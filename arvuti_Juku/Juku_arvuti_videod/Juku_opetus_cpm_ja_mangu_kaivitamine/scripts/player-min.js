var TSC=TSC||{};TSC.textSanitizer=function(){"use strict";return{htmlEncode:function(e,t){return e?t?e.replace(/&/g,"&amp;").replace(/(<|&amp;lt;)/g,"&lt;").replace(/(>|&amp;gt;)/g,"&gt;").replace(/&amp;amp;/g,"&amp;"):e.replace(/&/g,"&amp;").replace(/("|&amp;quot;)/g,"&quot;").replace(/(<|&amp;lt;)/g,"&lt;").replace(/(>|&amp;gt;)/g,"&gt;").replace(/&amp;amp;/g,"&amp;"):e}}}();var TSC=TSC||{};TSC.questionType=function(){"use strict";return{FILL_IN:"FITB",CHOICE:"MC",SHORT:"SHORT"}}();var TSC=TSC||{};TSC.reportType=function(){"use strict";return{NONE:"NONE",API:"API",SCORM:"SCORM",APIANDSCORM:"APIANDSCORM",isValid:function(e){return e===TSC.reportType.NONE||e===TSC.reportType.API||e===TSC.reportType.SCORM||e===TSC.reportType.APIANDSCORM}}}(),JSON.stringify=JSON.stringify||function(e){var t=typeof e;if("object"!=t||null===e)return"string"==t&&(e='"'+e+'"'),e+"";var i,n,o=[],r=e&&e.constructor==Array;for(i in e)n=e[i],t=typeof n,"string"==t?n='"'+n+'"':"object"==t&&null!==n&&(n=JSON.stringify(n)),o.push((r?"":'"'+i+'":')+(n+""));return(r?"[":"{")+(o+"")+(r?"]":"}")};var TSC=TSC||{};TSC.quizModel=function(){"use strict";function e(){p=[];for(var e=m.length,t=0,i=0,n=0;e>n;n++)m[n].complete===!1&&(t=m[n].mediaTimeCode-S,t=0>t?0:t,i=m[n].mediaTimeCode+v,p.push({quesitonSetId:n,rangeStart:t,rangeEnd:i,time:m[n].mediaTimeCode}))}function t(){var e={};e.quizId=u,e.lang=h,e.projectName=a,e.productionName=o,e.originId=r,e.mediaDuration=T,e.reportRecipients=[l],e.questionSets=[];for(var t,i,n,s=m.length,c=0;s>c;c++){e.questionSets.push({name:m[c].questionSetTitle,mediaTimePosition:m[c].mediaTimeCode,order:Number(c)+1,questions:[]}),t=m[c].questions.length;for(var d=0;t>d;d++){n=[],i=m[c].questions[d].choices.length;for(var p=0;i>p;p++)n.push(m[c].questions[d].choices[p]);e.questionSets[c].questions.push({type:m[c].questions[d].type,id:m[c].questions[d].id,questionText:m[c].questions[d].text,choices:n,correctAnswer:m[c].questions[d].correctAnswer})}}return JSON.stringify(e)}function i(e){var t={};t.quizId=u,t.order=e+1,t.questions=[];for(var i,n=m[e].questions.length,o=0;n>o;o++)i=m[e].questions[o].type===TSC.questionType.CHOICE&&"0"===m[e].questions[o].correctAnswer?{type:m[e].questions[o].type,id:m[e].questions[o].id,duration:m[e].questions[o].duration,response:m[e].questions[o].response,segmentWatched:m[e].percentOfVideoSegmentWatched}:{type:m[e].questions[o].type,id:m[e].questions[o].id,duration:m[e].questions[o].duration,response:m[e].questions[o].response,correct:m[e].questions[o].isResponseCorrect,segmentWatched:m[e].percentOfVideoSegmentWatched},t.questions.push(i);return JSON.stringify(t)}function n(e,t){return m[e]&&m[e].questions[t]?!0:!1}var o,r,a,s,u,l,c,d,p,g=TSC.reportType.NONE,f=!0,C=!1,m=[],S=250,v=100,T=0,h="",A=2e3;return{clearAllQuestions:function(){m=[]},getQuizDefinition:function(){return t()},getUseQuizApi:function(){return g===TSC.reportType.API||g===TSC.reportType.APIANDSCORM},getUseScorm:function(){return g===TSC.reportType.SCORM||g===TSC.reportType.APIANDSCORM},getDisplayFeedback:function(e){return m[e].displayFeedback},setQuizTitle:function(e){s=e},getQuizTitle:function(){return s},setProductionMetadata:function(e,t,i){o=t,r=i,a=e},setQuizID:function(e){u=e},getQuizID:function(){return u},setAuthoredEmail:function(e){l=e},getAuthoredEmail:function(){return l},setClientId:function(e){c=e},getClientId:function(){return c},setQuizHash:function(e){d=e},getQuizHash:function(){return d},setMediaDuration:function(e){T=e},setReportMethod:function(e){TSC.reportType.isValid(e)&&(g=e)},getReportMethod:function(){return g},setRequireUserId:function(e){f=e},getRequireUserId:function(){return f},setHideReplay:function(e){C=e},getHideReplay:function(){return C},setLocale:function(e){h=e},getLocale:function(){return h},setQuestionSetComplete:function(t){t>=0&&m.length>t&&(m[t].complete=!0,e())},getQuestionSetMarkerTimes:function(){return p||e(),p},numberQuestionSets:function(){return m.length},numberQuestionsInSet:function(e){return void 0===m[e]?-1:m[e].questions.length},addQuestionSet:function(e,t,i){return m.push({questions:[],questionSetTitle:e,mediaTimeCode:t,displayFeedback:i,complete:!1,percentOfVideoSegmentWatched:0}),m.length-1},addQuestion:function(e,t,i,n,o,r){void 0!==m[e]&&m[e].questions.push({type:t,id:i,text:n,choices:o,correctAnswer:r,response:"",isResponseCorrect:!1,duration:0})},getQuestionSetTitle:function(e){return e>=0&&m.length>e?m[e].questionSetTitle:""},getQuestionSetMarkerTime:function(e){return e>=0&&m.length>e?m[e].mediaTimeCode:-1},getQuestionType:function(e,t){return n(e,t)?m[e].questions[t].type:void 0},getQuestionApiId:function(e,t){return n(e,t)?m[e].questions[t].id:void 0},getQuestionText:function(e,t){return n(e,t)?m[e].questions[t].text:void 0},getQuestionChoices:function(e,t){return n(e,t)?m[e].questions[t].choices:void 0},getQuestionAnswer:function(e,t){return n(e,t)?m[e].questions[t].correctAnswer:void 0},setQuestionAnswer:function(e,t,i){m[e].questions[t].correctAnswer=i},setQuestionResponse:function(e,t,i){m[e].questions[t].response=i},getQuestionResponse:function(e,t){return n(e,t)?m[e].questions[t].response:void 0},getIsResponseCorrect:function(e,t){return n(e,t)?m[e].questions[t].isResponseCorrect:void 0},setIsResponseCorrect:function(e,t,i){m[e].questions[t].isResponseCorrect=i},getMinMarkerTimeDiff:function(){return A},getIsQuestionGraded:function(e,t){return n(e,t)?m[e].questions[t].isQuestionGraded:void 0},setIsQuestionGraded:function(e,t,i){m[e].questions[t].isQuestionGraded=i},getPreviousMarkerTimeForMarker:function(e){var t,i=0;if(e>0)if(e>=m.length)i=m[m.length-1].mediaTimeCode;else for(var n=e-1;n>=0;n--)if(t=m[Number(n)+1].mediaTimeCode-m[n].mediaTimeCode,t>=A){i=m[n].mediaTimeCode;break}return i},updatePercentageWatchedForQuestionSet:function(e,t){m[e].percentOfVideoSegmentWatched=t},addDurationToQuestion:function(e,t,i){m[e].questions[t].duration+=i},getApiDataForQuestionSet:function(e){return i(e)},getNumberOfCorrectInQuestionSet:function(e){for(var t=0,i=m[e],n=i.questions.length,o=0;n>o;o++){var r=i.questions[o];r.isQuestionGraded&&r.isResponseCorrect&&t++}return t},getTotalNumberOfGradableInQuestionSet:function(e){for(var t=0,i=m[e],n=i.questions.length,o=0;n>o;o++){var r=i.questions[o];r.isQuestionGraded&&t++}return t},getTotalNumberOfGradedQuestionSets:function(){for(var e=0,t=m.length,i=0;t>i;i++)TSC.quizModel.getTotalNumberOfGradableInQuestionSet(i)>0&&e++;return e},getTotalNumberOfUngradableInQuestionSet:function(e){if(0>e||e>=m.length)return void 0;for(var t=0,i=m[e],n=i.questions.length,o=0;n>o;o++){var r=i.questions[o];r.isQuestionGraded||t++}return t},getScormScore:function(){for(var e=0,t=0,i=m.length,n=0;i>n;n++)e+=TSC.quizModel.getTotalNumberOfGradableInQuestionSet(n),t+=TSC.quizModel.getNumberOfCorrectInQuestionSet(n);var o=100*(t/e);return o},getLastQuestionComplete:function(e){void 0===e&&(e=-1);for(var t=0,i=m.length,n=!0,o=0;i>o;o++)t=TSC.quizModel.getTotalNumberOfGradableInQuestionSet(o),t>0&&m[o].complete===!1&&o!==e&&(n=!1);return n}}}();var TSC=TSC||{};TSC.quizService=function(){"use strict";function e(e){void 0!==e&&(T=e.status),d&&d.call()}function t(){T=200,c&&c.call()}function i(e){if(T=200,g)h="mock_id",y=!0;else{var t=JSON.parse(e.data);h=t.Id,y=t.DefinitionRequired}u&&u.call(this,h,y)}function n(t,n,o,r){n||(n=""),o||(o=""),r||(r="");var a={FirstName:n,LastName:o,Email:r,QuizId:t};if(g)setTimeout(i,1e3);else try{var s=S+C;s=s.replace(/<ENVIRONMENT>/,v[A].url);var u=new easyXDM.Rpc({remote:S.replace(/<ENVIRONMENT>/,v[A].url)+"cors/?noop=1"},{remote:{request:{}}});u.request({url:"/"+C,method:"POST",headers:{Accept:"application/json"},data:a},i,e)}catch(l){d&&d.call()}}function o(i,n,o){if(i)if(g)setTimeout(t,1e3);else try{var r={DefinitionText:i},a=new easyXDM.Rpc({remote:S.replace(/<ENVIRONMENT>/,v[A].url)+"cors/?noop=1"},{remote:{request:{}}});a.request({url:"/"+f+"?Quiz-Checksum="+n+"&Quiz-ClientId="+o+"&noop=1",method:"POST",headers:{Accept:"application/json"},data:r},t,e)}catch(s){d&&d.call()}}function r(t,i){if(g){var n={0:{isCorrect:!0},1:{isCorrect:!0},2:{isCorrect:!0,correctAnswer:2}};setTimeout(function(){i(n)},1e3)}else try{var o=S+m;o=o.replace(/<ENVIRONMENT>/,v[A].url);var r={ResponseText:t},a=window.setTimeout(e,b),s=new easyXDM.Rpc({remote:S.replace(/<ENVIRONMENT>/,v[A].url)+"cors/?noop=1",onReady:function(){window.clearTimeout(a)}},{remote:{request:{}}});s.request({url:"/"+m,method:"POST",headers:{Accept:"application/json"},data:r},function(e){if("function"==typeof i){var t=JSON.parse(e.data);i(t.results)}},e)}catch(u){d&&d.call()}}function a(e){var t='<?xml version="1.0" encoding="UTF-8" ?>';t+='<UserResponse instance="'+h+'" quiz="'+e.quizId+'" order="'+e.order+'" version="'+p+'">';for(var i=e.questions.length,n=0;i>n;n++)t+='<Question type="'+e.questions[n].type+'" id="'+e.questions[n].id+'">',t+="<Duration>"+e.questions[n].duration+"</Duration>",t+="<Response>"+TSC.textSanitizer.htmlEncode(e.questions[n].response)+"</Response>",e.questions[n].type!==TSC.questionType.SHORT&&void 0!==e.questions[n].correct&&(t+="<Correct>"+(e.questions[n].correct?"True":"False")+"</Correct>"),t+="<SegmentWatched>"+e.questions[n].segmentWatched+"</SegmentWatched>",t+="</Question>";return t+="</UserResponse>"}function s(e){var t,i,n,o,r,a,s='<?xml version="1.0" encoding="UTF-8" ?>';for(s+='<QuizDefinition  version="'+p+'" quiz="'+e.quizId+'" locale="'+e.lang+'">',s+="<ProjectName>"+TSC.textSanitizer.htmlEncode(e.projectName)+"</ProjectName>",s+="<ProductionName>"+e.productionName+"</ProductionName>",s+="<OriginId>"+e.originId+"</OriginId>",s+="<MediaDuration>"+e.mediaDuration+"</MediaDuration>",s+="<ReportRecipients>",t=0;e.reportRecipients.length>t;t++)s+="<Email>"+e.reportRecipients[t]+"</Email>";for(s+="</ReportRecipients>",s+="<QuestionSets>",o=e.questionSets.length,t=0;o>t;t++){for(s+='<QuestionSet name="'+TSC.textSanitizer.htmlEncode(e.questionSets[t].name)+'" mediaTimePosition="'+e.questionSets[t].mediaTimePosition+'" order="'+e.questionSets[t].order+'">',r=e.questionSets[t].questions.length,i=0;r>i;i++){if(s+='<Question type="'+e.questionSets[t].questions[i].type+'" id="'+e.questionSets[t].questions[i].id+'">',s+="<QuestionText>"+TSC.textSanitizer.htmlEncode(e.questionSets[t].questions[i].questionText,!0)+"</QuestionText>",e.questionSets[t].questions[i].type===TSC.questionType.CHOICE){for(s+="<Choices>",a=e.questionSets[t].questions[i].choices.length,n=0;a>n;n++)s+="<Answer>"+TSC.textSanitizer.htmlEncode(e.questionSets[t].questions[i].choices[n],!0)+"</Answer>";s+="</Choices>",s+="<CorrectAnswer>"+e.questionSets[t].questions[i].correctAnswer+"</CorrectAnswer>"}else if(e.questionSets[t].questions[i].type===TSC.questionType.FILL_IN){for(s+="<Answers>",a=e.questionSets[t].questions[i].choices.length,n=0;a>n;n++)s+="<Answer>"+TSC.textSanitizer.htmlEncode(e.questionSets[t].questions[i].choices[n],!0)+"</Answer>";s+="</Answers>"}s+="</Question>"}s+="</QuestionSet>"}return s+="</QuestionSets>",s+="</QuizDefinition>"}var u,l,c,d,p=1,g=!1,f="v/1/quiz/definition",C="v/1/quiz/instance?noop=1",m="v/1/quiz/response?noop=1",S="https://quiz.<ENVIRONMENT>/",v=[];v.push({label:"Local",url:"techsmith.localhost:446"}),v.push({label:"Dev",url:"cloud.tsc-dev.co"}),v.push({label:"Stage",url:"cloud.tsc-stage.co"}),v.push({label:"Live",url:"cloud.techsmith.com"});var T,h,A=3,b=1e4,y=!1;return jQuery.support.cors=!0,{setEnvironment:function(e){A=e},getLastAttemptStatus:function(){return T},startQuizInstance:function(e,t,i,o){n(e,t,i,o)},submitQuizDefinition:function(e,t,i){"string"==typeof e&&(e=$.parseJSON(e));var n=s(e);return o(n,t,i),n},submitQuestionSet:function(e,t){var i="<error></error>";return h&&("string"==typeof e&&(e=$.parseJSON(e)),i=a(e),r(i,t)),i},addEventListener:function(e,t){"START_INSTANCE_COMPLETE"===e?u=t:"SEND_DEFINITION_COMPLETE"===e?c=t:"NEED_DEFINITION"===e?l=t:"ERROR"===e&&(d=t)},removeEventListener:function(e){"START_INSTANCE_COMPLETE"===e?u=void 0:"SEND_DEFINITION_COMPLETE"===e?c=void 0:"NEED_DEFINITION"===e?l=void 0:"ERROR"===e&&(d=void 0)}}}();var TSC=TSC||{};TSC.quizServiceBridge=function(){"use strict";var e,t,i,n=TSC.quizService,o="#tscplayer",r=function(t,i){if(e){var n=$(o);if(!n)return;var r=n[0];r[e].call(r,i)}},a=function(){if(e){var t=$(o);if(!t)return;var i=t[0];i[e].call(i)}},s=function(){if(t){var e=$(o);if(!e)return;var i=e[0];i[t].call(i)}},u=function(e){if(i){var t=$(o);if(!t)return;var n=t[0];n[i].call(n,e)}};return{startQuizInstance:function(i,o,u,l,c,d){n.addEventListener("START_INSTANCE_COMPLETE",r),n.addEventListener("SEND_DEFINITION_COMPLETE",a),n.addEventListener("ERROR",s),e=c,t=d,n.startQuizInstance(i,o,u,l)},sendQuizDefinition:function(i,o,r,a,s){e=a,t=s,n.submitQuizDefinition(i,o,r)},submitQuestionSet:function(o,r,a){e=void 0,i=r,t=a,n.submitQuestionSet(o,u)}}}();var TSC=TSC||{};TSC.fathomParser=function(){"use strict";function e(e){var t,i,n,o,r,a,s,u,l=-1,c=!1,d=[];TSC.quizModel.clearAllQuestions(),$(e).find("*").filterNode("rdf:Description").each(function(){var e=$(this).attr("tscIQ:questionSetName");if(e){e=TSC.textSanitizer.htmlEncode(e),c&&(TSC.quizModel.addQuestion(l,t,n,o,d,a),c=!1,o=void 0,n=void 0,d=[],a=void 0);var p="1"===$(this).attr("tscIQ:feedback"),g=Number($(this).attr("xmpDM:startTime"));l=TSC.quizModel.addQuestionSet(e,g,p)}else i=$(this).attr("tscIQ:type"),i?(c&&(TSC.quizModel.addQuestion(l,t,n,o,d,a),c=!1,c=!1,o=void 0,n=void 0,d=[],a=void 0),n=$(this).attr("tscIQ:id"),t=i,s=$(this).children(),o=TSC.textSanitizer.htmlEncode($(s[0]).text(),!0),a=TSC.textSanitizer.htmlEncode($(s[1]).text(),!0),c=!0):(r=$(this).attr("tscIQ:orderId"),r&&(s=$(this).children(),u=$(s[0]).text(),u&&d.push(TSC.textSanitizer.htmlEncode(u,!0))))}),c&&TSC.quizModel.addQuestion(l,t,n,o,d,a)}var t,i;return{parseFathom:function(n){var o,r,a=$(n).find("*").eq(2),s=a.attr("dc:title"),u=a.attr("tscDM:originId"),l=a.attr("tscDM:project"),c=$(n).find("*").length;for(t=!1,o=4;c>o;o++)if("xmpDM:Tracks"===$(n).find("*").eq(o)[0].nodeName){r=$(n).find("*").eq(o).children();break}for(var d,p=$(r).find("*").length,g=0;p>g;g++){var f=$(r).find("*").eq(g);if(d=f.attr("xmpDM:trackType"),void 0!==d)switch(d.toLowerCase()){case"quiz":if(TSC.quizModel){t=!0;var C=$(f).attr("tscIQ:quizGuid"),m=$(f).attr("tscIQ:reportMethod"),S="1"===$(f).attr("tscIQ:requireUserId"),v="1"===$(f).attr("tscIQ:hideReplay"),T=$(f).attr("tscIQ:authoredEmail"),h=$(f).attr("tscIQ:clientId"),A=$(f).attr("tscIQ:quizHash"),b=$(f).attr("tscIQ:locale");b||(b=TSC.languageCodes.ENGLISH),TSC.quizModel.setLocale(b),TSC.quizModel.setProductionMetadata(l,s,u),TSC.quizModel.setQuizTitle(s),TSC.quizModel.setQuizID(C),TSC.quizModel.setReportMethod(m),TSC.quizModel.setRequireUserId(S),TSC.quizModel.setHideReplay(v),TSC.quizModel.setAuthoredEmail(T),TSC.quizModel.setClientId(h),TSC.quizModel.setQuizHash(A)}i=$(f),g+=i.find("*").length}}t&&e(i)}}}();var TSC=TSC||{};TSC.fathomService=function(){"use strict";function e(){l&&l.call()}function t(){c&&c.call()}function i(t){TSC.fathomParser.parseFathom(t),e()}function n(){if(o)setTimeout(e,1e3);else{var n=a[s].url+r+u+"?noop=1";$.ajax({type:"GET",url:n,crossDomain:!0,dataType:"xml",success:i,error:t})}}var o,r,a,s,u,l,c;return o=!1,r="/Assessment/Xmp/",a=[],a.push({label:"Local",url:"http://results.localhost:81"}),a.push({label:"Dev",url:"https://results.cloud.tsc-dev.co"}),a.push({label:"Stage",url:"https://results.tsc-stage.co"}),a.push({label:"Live",url:"https://results.techsmith.com"}),s=3,{setEnvironment:function(e){isNaN(e)||0>e||e>a.length-1||(s=e)},getEnvironment:function(){return s},getFathom:function(e){u=e,n()},addEventListener:function(e,t){"GET_COMPLETE"===e?l=t:"ERROR"===e&&(c=t)},removeEventListener:function(e){"GET_COMPLETE"===e?l=void 0:"ERROR"===e&&(c=void 0)}}}();var TSC=TSC||{};TSC.BubbleView=function(e){"use strict";var t=10,i=48,n=22,o=8,r=45,a=e,s="#tsc_overlay",u=".chat-bubble-arrow-border",l=".chat-bubble-arrow",c='<div id="tsc_overlay"></div>';return{showView:function(){$(a).css("opacity",0),$(a).animate({opacity:1},300)},updateViewPosition:function(){$(a).css("bottom",i+"px")},removeView:function(e,t){$(a).animate({opacity:0},200,function(){void 0!==e&&e.call(),$(a).remove()}),t&&$(s).remove()},getOverlayMarkup:function(){return c},setBottomOffset:function(e){i=e},pointAt:function(e){var i,s,c=window.innerWidth,d=$(a).outerWidth(!0),p=.5*d,g=$(u).css("border-top-width").replace(/px/,""),f=n;0>e-(p+t)?(i=t,s=e-t-g):e+p+t>c?(i=c-(d+t),s=e-i-g):(i=e-p,s=p-g),$(a).css("left",i),$(u).css("left",s),$(l).css("left",s),r>e&&(f=o),$(a).css("border-bottom-left-radius",f+"px"),$(a).css("-webkit-border-bottom-left-radius",f+"px")}}};var TSC=TSC||{};TSC.quizSetupView=function(){"use strict";var e="#quiz_setup_template",t="#tsc_quiz_setup_container",i="#tsc_begin_button",n="#skip_control",o="#first_name",r="#last_name",a="#email_address",s=function(){var e=$(o).val().replace(/ /g,""),t=$(r).val().replace(/ /g,""),n=$(a).val().replace(/ /g,"");""!==e&&""!==t&&""!==n&&u(n)?$(i).removeAttr("disabled"):$(i).attr("disabled","disabled")},u=function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)};return{getViewMarkup:function(t,i,n,o,r,a){var s=$(e).html(),u=Handlebars.compile(s),l={setupMessage:t,firstNamePlaceholder:i,lastNamePlaceholder:n,emailPlaceholder:o,beginButtonText:r,skipControlText:a};return TSC.deviceInfo.isNuevoApp()||(l.useAutofocus=!0),u(l)},getBeginControlRef:function(){return i},getSkipControlRef:function(){return n},getFirstName:function(){return $(o).val()},getLastName:function(){return $(r).val()},getEmail:function(){return $(a).val()},showView:function(){$("input").bind("keyup",s),$("input").bind("change",s),$(t).css("opacity",0),$(t).animate({opacity:1},300),TSC.deviceInfo&&(TSC.deviceInfo.isIE()&&$(t+" label").css("display","block"),TSC.deviceInfo.isNuevoApp()||$(o).focus())},removeView:function(e){$("input").unbind("keyup",s),$("input").unbind("change",s),$(t).animate({opacity:0},200,function(){void 0!==e&&e.call(),$(t).remove()})}}}();var TSC=TSC||{};TSC.questionSetConfirmationView=function(){"use strict";var e=new TSC.BubbleView("#tsc_confirmation_container"),t="#question_set_confirmation_template",i="#tsc_review_control",n="#tsc_confirm_control";return{getViewMarkup:function(i,n){var o=$(t).html();o+=e.getOverlayMarkup();var r=Handlebars.compile(o),a={reviewText:i,confirmationText:n};return r(a)},getReviewControlRef:function(){return i},getConfirmControlRef:function(){return n},showView:e.showView,removeView:e.removeView,updateViewPosition:e.updateViewPosition,setBottomOffset:e.setBottomOffset,pointAt:e.pointAt}}();var TSC=TSC||{};TSC.questionSetView=function(){"use strict";var e="#tsc_quiz_container",t="#question_set_template",i="#question_count_template",n="#question_text_template",o="#choice_answer_template",r="#fill_answer_template",a="#short_answer_template",s="#tsc_previous_button",u="#tsc_next_button",l="#tsc_submit_button",c="#tsc_continue_button",d="#tsc_quiz_controls",p="#tsc_quiz_question_count",g="#tsc_question",f="#tsc_answers",C="#tsc_question_set_result_info",m=new TSC.BubbleView(e),S="data:image/png;base64,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",v="data:image/png;base64,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 2KUAAAAASUVORK5CYII=",T="data:image/png;base64,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",h=400,A=function(e,t,i,n){var s,u={},l=1;
if(TSC.deviceInfo.isNuevoApp()&&(n=!1),e===TSC.questionType.CHOICE){s=o,u.answers=[],u.placeHolderImg=S;for(var c=t.length,d=0;c>d;d++)i&&d===Number(i)?u.answers.push({answerIndex:d,tabIndex:l,answer:t[d],isChecked:!0}):u.answers.push({answerIndex:d,tabIndex:l,answer:t[d]}),l++}else e===TSC.questionType.FILL_IN?(s=r,u.userResponse=i,n&&(u.useAutofocus="true")):e===TSC.questionType.SHORT&&(s=a,u.userResponse=i,n&&(u.useAutofocus="true"));var p=$(s).html(),g=Handlebars.compile(p);return g(u)},b=function(e,t){var i=$(n).html(),o=Handlebars.compile(i),r={questionNumber:e,questionText:t};return o(r)},y=function(e,t,n){var o=$(i).html(),r=Handlebars.compile(o),a={currentQuestionNumber:e,totalQuestions:t,prepositionText:n};return r(a)},w=function(){var t,i,n=$(window).height(),o=h>=n;if($(e).css("max-height","none"),$(f).css("max-height","none"),o){var r=$(d).offset().top;t=$(f).outerHeight(!0);var a=$(f).offset().top;a+t>r&&(t-=a+t-r,$(f).css("max-height",t+"px"))}else{var s=$(e).css("bottom").replace(/px/,""),u=10,l=$(e).outerHeight(!0),c=l,p=Number(s)+Number(l)+u+6;if(p>n){var g=p-n;t=$(f).outerHeight(!1),i=t-g-8,$(f).css("max-height",i+"px"),c=c-(p-n)-s,$(e).css("max-height",c+"px")}}};return{getViewMarkup:function(e,i,n,o,r,a){var s=$(t).html();a&&(s+=m.getOverlayMarkup());var u=Handlebars.compile(s),l={questionSetTitle:e,previousButtonName:i,nextButtonName:n,submitButtonName:o,continueButtonName:r};return u(l)},configureControls:function(e,t,i,n){e.visible?($(s).css("display","inline"),e.disabled?$(s).attr("disabled","disabled"):$(s).removeAttr("disabled")):$(s).css("display","none"),t.visible?($(u).css("display","inline"),t.disabled?$(u).attr("disabled","disabled"):$(u).removeAttr("disabled")):$(u).css("display","none"),i.visible?($(l).css("display","inline"),i.disabled?$(l).attr("disabled","disabled"):$(l).removeAttr("disabled")):$(l).css("display","none"),n.visible?($(c).css("display","inline"),n.disabled?$(c).attr("disabled","disabled"):$(c).removeAttr("disabled")):$(c).css("display","none")},showControls:function(){"hidden"===$(d).css("visibility")&&($(d).css("visibility","visible"),$(d).css("opacity",0),$(d).animate({opacity:1},300))},hideControls:function(){"visible"===$(d).css("visibility")&&$(d).css("visibility","hidden")},showResponse:function(e){$(f).css("opacity",0),$(f).stop().animate({opacity:1},400,function(){"autofocus"in document.createElement("input")||TSC.deviceInfo.isNuevoApp()||(e===TSC.questionType.FILL_IN?$(f+" input")[0].focus():e===TSC.questionType.SHORT&&$(f+" textarea")[0].focus())}),e===TSC.questionType.CHOICE&&TSC.deviceInfo.isTouchInterface()&&$(".tsc_multiple_choice").removeClass("active_quiz_item")},displayQuestion:function(e,t,i,n,o,r,a,s){$(p).html(y(n,r,o)),$(g).html(b(n,t)),$(f).html(A(e,i,a,!s)),w()},disableResponseUI:function(e){e===TSC.questionType.CHOICE?$(f+" input").attr("disabled",!0):e===TSC.questionType.FILL_IN?$(f+" input").attr("disabled",!0):e===TSC.questionType.SHORT&&$(f+" textarea").attr("disabled",!0)},showFeedback:function(e){$(C).html(e),$(C).show()},showResponseFillInFeedback:function(e){e?$(f).prepend("<img src='"+v+"' class='image_fitb_feedback' />"):$(f).prepend("<img src='"+T+"' class='image_fitb_feedback' />"),$(f+" img").css("opacity",0),$(f+" img").animate({opacity:1},200)},showResponseChoiceFeedback:function(e,t,i){i&&($("label img").removeClass("feedback_placeholder"),Number(e)===Number(t)?($(f+" label:eq("+e+") img").remove(),$(f+" label:eq("+e+")").prepend("<img src='"+v+"' class='image_feedback' />"),$(f+" label:eq("+e+") img").css("opacity",0),$(f+" label:eq("+e+") img").animate({opacity:1},200)):($(f+" label:eq("+e+") img").remove(),$(f+" label:eq("+t+") img").remove(),$(f+" label:eq("+t+")").prepend("<img src='"+v+"' class='image_feedback' />"),$(f+" label:eq("+e+")").prepend("<img src='"+T+"' class='image_feedback' />"),$(f+" label:eq("+e+") img").css("opacity",0),$(f+" label:eq("+e+") img").animate({opacity:1},200),$(f+" label:eq("+t+") img").css("opacity",0),$(f+" label:eq("+t+") img").animate({opacity:1},200))),$(f+" input").hide(),e&&$(f+" label:eq("+e+")").addClass("picked_quiz_item")},getPreviousControlsRef:function(){return s},getNextControlsRef:function(){return u},getSubmitControlsRef:function(){return l},getContinueControlsRef:function(){return c},getResponseLabelRef:function(){return f+" label"},getResponseInputRef:function(){return f+" input"},getResponseTextAreaRef:function(){return f+" textarea"},getResponseInputValue:function(){return TSC.textSanitizer.htmlEncode($(f+" input").val())},getResponseTextAreaValue:function(){var e=TSC.textSanitizer.htmlEncode($(f+" textarea").val().replace(/^[ \t]+|[ \t]+$/,""));if(TSC.deviceInfo.isIE()){var t=$(f+" textarea").attr("maxlength");t&&e.length>t&&(e=e.substring(0,t))}return e},getResponseListSelectedIndex:function(){return $("input[name=tsc_multiple_choice]:checked").val()},showView:function(){$(e).show(),w(),m.showView()},removeView:m.removeView,updateViewPosition:m.updateViewPosition,setBottomOffset:m.setBottomOffset,pointAt:function(e){m.pointAt(e),w()}}}();var TSC=TSC||{};TSC.reviewAnswersConfirmationView=function(){"use strict";var e=new TSC.BubbleView("#tsc_review_confirmation_container"),t="#question_set_review_confirmation_template",i="#tsc_continue_control",n="#tsc_review_answers_control";return{getViewMarkup:function(e,i){var n=$(t).html(),o=Handlebars.compile(n),r={continueText:e,reviewAnswerText:i};return o(r)},getContinueControlRef:function(){return i},getReviewControlRef:function(){return n},showView:e.showView,removeView:e.removeView,updateViewPosition:e.updateViewPosition,setBottomOffset:e.setBottomOffset,pointAt:e.pointAt}}();var TSC=TSC||{};TSC.quizMarker=function(){"use strict";var e="#ffffff",t=3;return{setColor:function(t){e=t},getColor:function(){return e},setSize:function(e){t=e},getSize:function(){return t}}}();var TSC=TSC||{};TSC.xmpGrader=function(){"use strict";var e=function(e,t,i,n){var o=e.getQuestionType(t,i);if(o===TSC.questionType.CHOICE){var r=e.getQuestionAnswer(t,i),a=1<<Number(n)===Number(r);e.setIsResponseCorrect(t,i,a),e.setIsQuestionGraded(t,i,r&&r>0)}else if(o===TSC.questionType.FILL_IN){var s=n.toLowerCase(),u=e.getQuestionChoices(t,i),l=u?u.length:0;e.setIsQuestionGraded(t,i,l>0);for(var c=0;l>c;c++)if(s===u[c].toLowerCase()){e.setIsResponseCorrect(t,i,!0);break}}};return{gradeQuestionSet:function(t,i){for(var n=t.numberQuestionsInSet(i),o=0;n>o;o++){var r=t.getQuestionResponse(i,o);e(t,i,o,r)}},doesLocalGrading:!0}}();var TSC=TSC||{};TSC.fathomGrader=function(){"use strict";return{processQuestionSetResults:function(e,t,i){for(var n=e.numberQuestionsInSet(t),o=0;n>o;o++){var r=e.getQuestionApiId(t,o),a=i[r];void 0!==a&&(e.setIsResponseCorrect(t,o,a.isCorrect),e.setQuestionAnswer(t,o,a.correctAnswer),e.setIsQuestionGraded(t,o,a.isGraded))}},doesLocalGrading:!1}}();var TSC=TSC||{};TSC.quizController=function(){"use strict";var e,t,i,n,o,r,a,s,u,l,c,d,p,g=TSC.questionSetView,f=TSC.questionSetConfirmationView,C=TSC.quizSetupView,m=TSC.reviewAnswersConfirmationView,S=TSC.quizService,v=0,T=0,h=0,A=0,b=7,y=0,w=!1,I=!0,E=!1,x=0,N=0,M=!0,L="",R=function(e){i=e,v=i.numberQuestionSets(),T=i.numberQuestionsInSet(0)},P=function(){r&&r.call(this,{type:"BEGIN"})},k=function(){a&&a.call(this,{type:"SKIP"})},q=function(){i.getUseScorm()&&userSubmitToLMS&&userSubmitToLMS(i.getScormScore(),i.getLastQuestionComplete(A))},D=function(){i.setQuestionSetComplete(A),A=-1},Q=function(){n&&n.call(this,{type:"COMPLETE"})},V=function(){D(),$(g.getPreviousControlsRef()).unbind("click",_),$(g.getNextControlsRef()).unbind("click",H),$(g.getSubmitControlsRef()).unbind("click",j),$(g.getContinueControlsRef()).unbind("click",V),g.removeView(Q,!0),e=void 0},z=function(e){if(!w)if(e===TSC.questionType.CHOICE){var t=g.getResponseListSelectedIndex();t&&i.setQuestionResponse(A,h,t)}else if(e===TSC.questionType.FILL_IN){var n=g.getResponseInputValue();n&&""!==n&&i.setQuestionResponse(A,h,n)}else if(e===TSC.questionType.SHORT){var o=g.getResponseTextAreaValue();o&&""!==o&&i.setQuestionResponse(A,h,o)}},O=function(e){u&&(L=e,u.call(this,{type:"STATUS",message:e}))},F=function(){l&&l.call(this,{type:"SUBMITTED"})},G=function(){TSC.deviceInfo.isNuevoApp()&&$(window).scrollTop(0)},U=function(){var e=i.getQuestionType(A,h),t=i.getQuestionText(A,h),n=i.getQuestionChoices(A,h),o=i.getQuestionResponse(A,h);g.displayQuestion(e,t,n,Number(h+1),TSC.localizationStrings.getQuestionCountPreposition(),T,o,w);var r=!(1===T),a=!(1===T),s=h!==T-1||w?!1:!0,u=w,l=0===h?!0:!1,c=h===T-1?!0:!1;if(g.configureControls({visible:r,disabled:l},{visible:a,disabled:c},{visible:s},{visible:u}),w)if(g.showResponse(),g.disableResponseUI(e),e===TSC.questionType.CHOICE){for(var d=g.getResponseListSelectedIndex(),p=i.getQuestionAnswer(A,h),f=-1,C=i.getQuestionChoices(A,h).length,m=0;C>m;m++)if(1<<m===Number(p)){f=m;break}g.showResponseChoiceFeedback(d,f,p>0),$(g.getResponseLabelRef()).removeClass("active_quiz_item")}else e===TSC.questionType.FILL_IN&&i.getIsQuestionGraded(A,h)&&g.showResponseFillInFeedback(i.getIsResponseCorrect(A,h));else g.showResponse(e),x=(new Date).getTime()},B=function(){N=(new Date).getTime(),i.addDurationToQuestion(A,h,N-x)},_=function(){var e=i.getQuestionType(A,h);z(e),B(),h--,U()},H=function(){var e=i.getQuestionType(A,h);z(e),B(),h++,U()},W=function(e,t,i){var n="";if(t>0){var o=1===e?"txtCorrectAnswer":"txtCorrectAnswers";n=TSC.localizationStrings.getString(o),n=n.replace(/{{numberCorrect}}/,e)}if(i>0&&t>0){""!==n&&(n+=" ");var o=1===i?"txtUngradedQuestion":"txtUngradedQuestions";n+=TSC.localizationStrings.getString(o),n=n.replace(/{{numberUngraded}}/,i)}return n},J=function(){w=!0,T=i.numberQuestionsInSet(A);var n=g.getViewMarkup(i.getQuestionSetTitle(A),TSC.localizationStrings.getString("txtPrev"),TSC.localizationStrings.getString("txtNext"),TSC.localizationStrings.getString("txtSubmit"),TSC.localizationStrings.getString("txtContinue"));t.append(n),e=g,ut(),c&&e.pointAt(c),$(g.getPreviousControlsRef()).bind("click",_),$(g.getNextControlsRef()).bind("click",H),$(g.getSubmitControlsRef()).bind("click",j),$(g.getContinueControlsRef()).bind("click",V);var o=i.getNumberOfCorrectInQuestionSet(A),r=i.getTotalNumberOfGradableInQuestionSet(A),a=i.getTotalNumberOfUngradableInQuestionSet(A),s=W(o,r,a);""!==s&&g.showFeedback(s),h=0,U(),g.showView(),g.updateViewPosition()},K=function(){D(),$(m.getContinueControlRef()).unbind("click",K),$(m.getReviewControlRef()).unbind("click",Y),m.removeView(Q,!0),e=void 0},Y=function(){$(m.getContinueControlRef()).unbind("click",K),$(m.getReviewControlRef()).unbind("click",Y),m.removeView(J,!1),e=void 0},Z=function(){var i=m.getViewMarkup(TSC.localizationStrings.getString("txtContinue"),TSC.localizationStrings.getString("txtReviewAnswer"));t.append(i),e=m,ut(),c&&e.pointAt(c),$(m.getContinueControlRef()).bind("click",K),$(m.getReviewControlRef()).bind("click",Y),m.showView(),m.updateViewPosition()},j=function(){B();var e=i.getQuestionType(A,h);z(e),d.doesLocalGrading&&d.gradeQuestionSet(i,A),p=!0,i.getUseQuizApi()&&(O(TSC.localizationStrings.getString("txtSubmittingAnswers")),S.submitQuestionSet(i.getApiDataForQuestionSet(A),X)),i.getUseScorm()&&q(),(TSC.deviceInfo.isLocal()||!i.getUseQuizApi())&&X()},X=function(t){if(p=!1,F(),!d.doesLocalGrading&&i.getUseQuizApi()){if(void 0===t)return pt(),V(),void 0;d.processQuestionSetResults(i,A,t)}i.getDisplayFeedback(A)?e.removeView(Z,!1):V()},et=function(n){w=!1,h=0,T=i.numberQuestionsInSet(A);var o=g.getViewMarkup(i.getQuestionSetTitle(A),TSC.localizationStrings.getString("txtPrev"),TSC.localizationStrings.getString("txtNext"),TSC.localizationStrings.getString("txtSubmit"),TSC.localizationStrings.getString("txtContinue"),n);t.append(o),e=g,ut(),c&&e.pointAt(c),$(g.getPreviousControlsRef()).bind("click",_),$(g.getNextControlsRef()).bind("click",H),$(g.getSubmitControlsRef()).bind("click",j),$(g.getContinueControlsRef()).bind("click",V),U(),g.showView(),g.updateViewPosition()},tt=function(){e.removeView(void 0,!0),e=void 0,o&&o.call(this,{type:"REVIEW"})},it=function(){v>A&&et(!1)},nt=function(){e.removeView(it),e=void 0},ot=function(){var n;n=M?TSC.localizationStrings.getString("txtReview"):TSC.localizationStrings.getString("txtContinue");var o=f.getViewMarkup(n,TSC.localizationStrings.getString("txtAnswerQuestion"));t.append(o),e=f,ut(),i.getHideReplay()===!0&&$(f.getReviewControlRef()).hide(),$(f.getReviewControlRef()).bind("click",tt),$(f.getConfirmControlRef()).bind("click",nt),f.showView(),f.updateViewPosition()},rt=function(t){i.getUseQuizApi()?(lt(C.getFirstName(),C.getLastName(),C.getEmail()),e.removeView()):e.removeView(P),e=void 0,t.preventDefault()},at=function(t){I=!1,TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()?(e.removeView(),k()):e.removeView(k),e=void 0,t.preventDefault()},st=function(){var i=TSC.localizationStrings.getString("txtRequiredMessage"),n=TSC.localizationStrings.getString("txtFirstName"),o=TSC.localizationStrings.getString("txtLastName"),r=TSC.localizationStrings.getString("txtEmail"),a=TSC.localizationStrings.getString("txtBegin"),s=TSC.localizationStrings.getString("txtSkip"),u=C.getViewMarkup(i,n,o,r,a,s);t.append(u),e=C,$(C.getBeginControlRef()).bind("click",rt),$(C.getSkipControlRef()).bind("click",at),C.showView()},ut=function(){e&&e.setBottomOffset&&(e.setBottomOffset(y),e.updateViewPosition())},lt=function(e,t,n){O(TSC.localizationStrings.getString("txtLoaderMessageInstance")),S.startQuizInstance(i.getQuizID(),e,t,n),(TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid())&&P()},ct=function(e,t){t?(O(TSC.localizationStrings.getString("txtLoaderMessageDefinition")),TSC.quizService.submitQuizDefinition(TSC.quizModel.getQuizDefinition(),TSC.quizModel.getQuizHash(),TSC.quizModel.getClientId())):(E=!0,P())},dt=function(){E=!0,P()},pt=function(){I=!1,p&&X(),s.call(this,{type:"ERROR"})};return{init:function(e){M=e,i.getUseQuizApi()?(S.addEventListener("START_INSTANCE_COMPLETE",ct),S.addEventListener("SEND_DEFINITION_COMPLETE",dt),S.addEventListener("ERROR",pt),i.getRequireUserId()?st():lt()):(E=!0,P()),TSC.deviceInfo.isNuevoApp()&&($("#tsc_quiz_container input").live("blur",G),$("#tsc_quiz_container textarea").live("blur",G))},getQuizReady:function(){return E},getLastStatusMessage:function(){return L},setQuestionData:function(e){R(e)},setViewContainer:function(e){t=$(e)},displayNextQuestionSet:function(){v>A&&et(!0)},quizEnabled:function(){return I},viewOpen:function(){return void 0!==e},findQuestionSet:function(e){for(var t=-1,i=-1,n=TSC.quizModel.getQuestionSetMarkerTimes(),o=n.length,r=0;o>r;r++)if(M&&e>=n[r].time||e>=n[r].rangeStart&&n[r].rangeEnd>=e){t=n[r].quesitonSetId,i=n[r].time;break}return{id:t,markerTime:i}},findPrevMarkerTimeForMarker:function(e){return i.getPreviousMarkerTimeForMarker(e)},updatePercentWatchedForQuestionSet:function(e,t){i.updatePercentageWatchedForQuestionSet(e,t)},drawMarkers:function(e,t,i,n){if(I){var o=TSC.quizModel.getQuestionSetMarkerTimes(),r=o.length,a=Math.round(n/2),s=0,u=0;t.clearRect(0,0,i,n);for(var l=0;r>l;l++)u=o[l].time/e,s=Math.round(i*u),t.fillStyle=TSC.quizMarker.getColor(),t.beginPath(),t.arc(s,a,TSC.quizMarker.getSize(),0,2*Math.PI,!0),t.closePath(),t.fill()}},displayConfirm:function(t){e||(A=t,M&&i.getQuestionSetMarkerTime(t)<=i.getMinMarkerTimeDiff()?et(!0):ot())},addEventListener:function(e,t){"COMPLETE"===e?n=t:"REVIEW"===e?o=t:"BEGIN"===e?r=t:"SKIP"===e?a=t:"ERROR"===e?s=t:"STATUS"===e?u=t:"SUBMITTED"===e&&(l=t)},removeEventListener:function(e){"COMPLETE"===e?n=void 0:"REVIEW"===e?o=void 0:"BEGIN"===e?r=void 0:"SKIP"===e?a=void 0:"ERROR"===e?s=void 0:"STATUS"===e?u=void 0:"SUBMITTED"===e&&(l=void 0)},pointViewAt:function(t){c=t,e&&e.pointAt&&e.pointAt(c)},setViewControlBarOffset:function(e){y=e+b,ut()},setQuestionGrader:function(e){d=e}}}();var TSC=TSC||{};TSC.languageCodes=function(){"use strict";var e="en-US",t="de-DE",i="ja-JP";return{ENGLISH:e,GERMAN:t,JAPANESE:i,ENU:e,DEU:t,JPN:i,isValid:function(n){return n!==e&&n!==t&&n!==i?!1:!0}}}();var TSC=TSC||{};TSC.localizationStrings=function(){"use strict";var e,t=TSC.languageCodes,i="default",n=i,o="",r={};return r.xmpError={},r.xmpError[t.ENGLISH]="There seems to be a problem accessing certain features of this video. Please contact the video Author.",r.xmpError[t.GERMAN]="Einige Merkmale dieses Videos sind offenbar nicht zugänglich. Bitte setzen Sie sich mit dem Autor des Videos in Verbindung.",r.xmpError[t.JAPANESE]="このビデオの特定機能にアクセスする時に問題が発生したようです。ビデオの作成者に連絡してください。",r.xmpSecurity={},r.xmpSecurity[t.ENGLISH]="Certain features in your video are currently disabled due to Local Network Security. These features work correctly when the video is played from a Website or Server.",r.xmpSecurity[t.GERMAN]="Einige Merkmale Ihrem Video sind zurzeit aufgrund der Sicherheitseinstellungen im lokalen Netzwerk deaktiviert. Diese Merkmale funktionieren wie vorgesehen, wenn das Video über eine Website oder einen Server wiedergegeben wird.",r.xmpSecurity[t.JAPANESE]="ローカル ネットワークのセキュリティのために、ビデオの特定機能が現在無効になっています。これらの機能は、Web サイトまたはサーバーからビデオを再生すると正しく動作します。",r.videoNotSupported={},r.videoNotSupported[t.ENGLISH]="Your browser cannot play this video.",r.videoNotSupported[t.GERMAN]="Ihr Browser kann dieses Video nicht wiedergeben.",r.videoNotSupported[t.JAPANESE]="お使いのブラウザではこのビデオを再生できません。",r.videoNotSupportedUseFlash={},r.videoNotSupportedUseFlash[t.ENGLISH]="This browser does not support the video format needed for playback.  Please install the Flash Player or use a different browser.",r.videoNotSupportedUseFlash[t.GERMAN]="Dieser Browser unterstützt das zur Wiedergabe erforderliche Videoformat nicht. Bitte installieren Sie den Flash Player oder verwenden Sie einen anderen Browser.",r.videoNotSupportedUseFlash[t.JAPANESE]="このブラウザは、再生に必要なビデオ形式をサポートしていません。最新版のFlash Player をインストールするか、別のブラウザを使用してください。",r.noWebMSupport={},r.noWebMSupport[t.ENGLISH]="This browser does not support WebM video.",r.noWebMSupport[t.GERMAN]="Dieser Browser bietet keine WebM-Video-Unterstützung.",r.noWebMSupport[t.JAPANESE]="このブラウザは WebM ビデオをサポートしていません。",r.playlistLocalError={},r.playlistLocalError[t.ENGLISH]="Videos in a Playlist cannot be viewed from a local drive. The videos will play correctly from a Playlist hosted on a Website or Server.",r.playlistLocalError[t.GERMAN]="Videos in einer Wiedergabeliste können nicht von einem lokalen Laufwerk aus abgespielt werden. Die Videos werden über eine auf einer Website oder einem Server gehostete Wiedergabeliste korrekt abgespielt.",r.playlistLocalError[t.JAPANESE]="プレイリストのビデオはローカル ドライブから再生できません。Web サイトまたはサーバーでホストされているプレイリストからは、ビデオが正しく再生されます。",r.search={},r.search[t.ENGLISH]="Search...",r.search[t.GERMAN]="Suchen…",r.search[t.JAPANESE]="検索…",r.videoFailedToLoad={},r.videoFailedToLoad[t.ENGLISH]="This video failed to load completely.",r.videoFailedToLoad[t.GERMAN]="Dieses Video wurde nicht vollständig geladen.",r.videoFailedToLoad[t.JAPANESE]="このビデオを正しく読み込めませんでした。",r.videoFailedToLoadUseFlash={},r.videoFailedToLoadUseFlash[t.ENGLISH]="This video failed to load completely.  You may need to try another browser or use the Flash plugin.",r.videoFailedToLoadUseFlash[t.GERMAN]="Dieses Video wurde nicht vollständig geladen. Vielleicht müssen Sie einen anderen Browser ausprobieren oder das Flash-Plug-In verwenden.",r.videoFailedToLoadUseFlash[t.JAPANESE]="このビデオを正しく読み込めませんでした。別のブラウザを試すか、Flash プラグインを使用する必要があります。",r.searchDisabledFullScreen={},r.searchDisabledFullScreen[t.ENGLISH]="Search is disabled in fullscreen mode.",r.searchDisabledFullScreen[t.GERMAN]="Die Suche ist im Vollbildmodus deaktiviert.",r.searchDisabledFullScreen[t.JAPANESE]="フル画面モードでは検索機能は無効です。",r.videoLoading={},r.videoLoading[t.ENGLISH]="Please wait... the video is loading.",r.videoLoading[t.GERMAN]="Bitte warten... Das Video wird geladen.",r.videoLoading[t.JAPANESE]="お待ちください... ビデオを読み込んでいます。",r.clickToClose={},r.clickToClose[t.ENGLISH]="Click to Close",r.clickToClose[t.GERMAN]="Hier klicken, um zu schließen",r.clickToClose[t.JAPANESE]="クリックして終了",r.playWithSmartPlayer={},r.playWithSmartPlayer[t.ENGLISH]="Play with TechSmith Smart Player",r.playWithSmartPlayer[t.GERMAN]="Mit TechSmith Smart Player abspielen",r.playWithSmartPlayer[t.JAPANESE]="クリックして終了",r.playVideoOnly={},r.playVideoOnly[t.ENGLISH]="Play Video Only",r.playVideoOnly[t.GERMAN]="Nur Video wiedergeben",r.playVideoOnly[t.JAPANESE]="ビデオの再生のみ",r.FullscreenKeyboardDisabled={},r.FullscreenKeyboardDisabled[t.ENGLISH]="Warning!, keyboard support is disabled in fullscreen.",r.FullscreenKeyboardDisabled[t.GERMAN]="Warnung! Tastaturunterstützung ist im Vollbildmodus deaktiviert.",r.FullscreenKeyboardDisabled[t.JAPANESE]="警告! フル画面ではキーボード サポートは無効です。",r.txtRequiredMessage={},r.txtRequiredMessage[t.ENGLISH]="A first name, last name, and email address are required to take this quiz.",r.txtRequiredMessage[t.GERMAN]="Sie müssen Vor- und Nachnamen und eine E-Mail-Adresse angeben, um an diesem Quiz teilzunehmen.",r.txtRequiredMessage[t.JAPANESE]="このクイズに解答するには、氏名と電子メール アドレスを入力する必要があります。",r.txtSkip={},r.txtSkip[t.ENGLISH]="Watch Video Only - No Quiz",r.txtSkip[t.GERMAN]="Nur Video ansehen - Kein Quiz",r.txtSkip[t.JAPANESE]="ビデオを見るだけでクイズに解答しない",r.txtBegin={},r.txtBegin[t.ENGLISH]="Watch Video and Take Quiz",r.txtBegin[t.GERMAN]="Video ansehen und am Quiz teilnehmen",r.txtBegin[t.JAPANESE]="ビデオを見てクイズに解答する",r.txtFirstName={},r.txtFirstName[t.ENGLISH]="First",r.txtFirstName[t.GERMAN]="Vorname",r.txtFirstName[t.JAPANESE]="姓",r.txtLastName={},r.txtLastName[t.ENGLISH]="Last",r.txtLastName[t.GERMAN]="Nachname",r.txtLastName[t.JAPANESE]="名",r.txtEmail={},r.txtEmail[t.ENGLISH]="Email",r.txtEmail[t.GERMAN]="E-Mail",r.txtEmail[t.JAPANESE]="電子メール",r.txtReview={},r.txtReview[t.ENGLISH]="Replay Last Section",r.txtReview[t.GERMAN]="Letzten Abschnitt erneut wiedergeben",r.txtReview[t.JAPANESE]="最後に選択した範囲をもう一度再生",r.txtAnswerQuestion={},r.txtAnswerQuestion[t.ENGLISH]="Take Quiz Now",r.txtAnswerQuestion[t.GERMAN]="Jetzt am Quiz teilnehmen",r.txtAnswerQuestion[t.JAPANESE]="今すぐクイズに解答する",r.txtPrev={},r.txtPrev[t.ENGLISH]="Previous",r.txtPrev[t.GERMAN]="Zurück",r.txtPrev[t.JAPANESE]="前へ",r.txtNext={},r.txtNext[t.ENGLISH]="Next",r.txtNext[t.GERMAN]="Weiter",r.txtNext[t.JAPANESE]="次へ",r.txtSubmit={},r.txtSubmit[t.ENGLISH]="Submit Answers",r.txtSubmit[t.GERMAN]="Antworten abschicken",r.txtSubmit[t.JAPANESE]="解答・回答の送信",r.txtSubmittingAnswers={},r.txtSubmittingAnswers[t.ENGLISH]="Please wait... submitting answers.",r.txtSubmittingAnswers[t.GERMAN]="Bitte warten... Antwort wird gesendet.",r.txtSubmittingAnswers[t.JAPANESE]="少々お待ちください... 回答を送信中です。",r.txtContinue={},r.txtContinue[t.ENGLISH]="Continue",r.txtContinue[t.GERMAN]="Fortsetzen",r.txtContinue[t.JAPANESE]="続行",r.txtReviewAnswer={},r.txtReviewAnswer[t.ENGLISH]="View Answers",r.txtReviewAnswer[t.GERMAN]="Antworten anzeigen",r.txtReviewAnswer[t.JAPANESE]="解答・回答を表示",r.txtAnswerSent={},r.txtAnswerSent[t.ENGLISH]="Your answers have been sent.",r.txtAnswerSent[t.GERMAN]="Ihre Antworten wurden gesendet.",r.txtAnswerSent[t.JAPANESE]="解答・回答が送信されました。",r.txtDisabledLocalQuizReporting={},r.txtDisabledLocalQuizReporting[t.ENGLISH]="Keyboard input is disabled in full screen mode. Press the ESC key to exit full screen mode.",r.txtDisabledLocalQuizReporting[t.GERMAN]="Bestimmte Merkmale in Ihrem Video sind aufgrund der Sicherheitseinstellungen im lokalen Netzwerk zurzeit deaktiviert. Sie funktionieren jedoch ordnungsgemäß, wenn das Video von einer Website oder einem Server aus wiedergegeben wird.",r.txtDisabledLocalQuizReporting[t.JAPANESE]="ローカル ネットワークのセキュリティの理由により、ビデオの特定機能が現在無効化されています。Web サイトまたはサーバーからビデオを再生する場合、これらの機能は正しく動作します。",r.txtErrorMessage={},r.txtErrorMessage[t.ENGLISH]="We're sorry, a network error has prevented the quiz from loading. The video is available to view. To try and reload the quiz, refresh the browser page or check your network connection.",r.txtErrorMessage[t.GERMAN]="Das Quiz konnte aufgrund eines Netzwerkfehlers nicht geladen werden. Das Video steht zur Ansicht bereit. Sie können versuchen das Quiz erneut zu laden, indem Sie die Browserseite aktualisieren bzw. Ihre Netzwerkverbindung überprüfen.",r.txtErrorMessage[t.JAPANESE]="申し訳ありませんが、ネットワーク エラーによりクイズを読み込めませんでした。ビデオは表示できます。クイズを再度読み込むには、ブラウザのページを更新するか、ネットワーク接続を確認してください。",r.txtLoaderMessageInstance={},r.txtLoaderMessageInstance[t.ENGLISH]="Please wait... the quiz is loading.",r.txtLoaderMessageInstance[t.GERMAN]="Bitte warten... Das Quiz wird geladen.",r.txtLoaderMessageInstance[t.JAPANESE]="お待ちください... クイズを読み込んでいます。",r.txtLoaderMessageDefinition={},r.txtLoaderMessageDefinition[t.ENGLISH]="Please wait... the quiz is loading.",r.txtLoaderMessageDefinition[t.GERMAN]="Bitte warten... Das Quiz wird geladen.",r.txtLoaderMessageDefinition[t.JAPANESE]="お待ちください... クイズを読み込んでいます。",r.txtQuestionCount={},r.txtQuestionCount[t.ENGLISH]="{{currentQuestion}} of {{totalQuestions}}",r.txtQuestionCount[t.GERMAN]="{{currentQuestion}} von {{totalQuestions}}",r.txtQuestionCount[t.JAPANESE]="{{currentQuestion}} 問 ({{totalQuestions}} 問中)",r.txtCorrectAnswer={},r.txtCorrectAnswer[t.ENGLISH]="{{numberCorrect}} correct answer.",r.txtCorrectAnswer[t.GERMAN]="{{numberCorrect}} richtige Antwort.",r.txtCorrectAnswer[t.JAPANESE]="{{numberCorrect}} 個の正解があります。",r.txtCorrectAnswers={},r.txtCorrectAnswers[t.ENGLISH]="{{numberCorrect}} correct answers.",r.txtCorrectAnswers[t.GERMAN]="{{numberCorrect}} richtige Antworten.",r.txtCorrectAnswers[t.JAPANESE]="{{numberCorrect}} 個の正解があります。",r.txtUngradedQuestion={},r.txtUngradedQuestion[t.ENGLISH]="{{numberUngraded}} question could not be scored.",r.txtUngradedQuestion[t.GERMAN]="{{numberUngraded}} Frage konnte nicht bewertet werden.",r.txtUngradedQuestion[t.JAPANESE]="{{numberUngraded}} 個の問題のスコアを付けることができませんでした。",r.txtUngradedQuestions={},r.txtUngradedQuestions[t.ENGLISH]="{{numberUngraded}} questions could not be scored.",r.txtUngradedQuestions[t.GERMAN]="{{numberUngraded}} Fragen konnte nicht bewertet werden.",r.txtUngradedQuestions[t.JAPANESE]="{{numberUngraded}} 個の問題のスコアを付けることができませんでした。",r.txtQuizFullscreenMode={},r.txtQuizFullscreenMode[t.ENGLISH]="Keyboard input is disabled in full screen mode. Press the ESC key to exit full screen mode.",r.txtQuizFullscreenMode[t.GERMAN]="Die Tastatureingabe ist im Vollbildmodus deaktiviert.  Drücken Sie &gt;Esc&lt;, um den Vollbildmodus zu beenden.",r.txtQuizFullscreenMode[t.JAPANESE]="全画面表示ではキーボード入力は無効です。ESC キーを押すと全画面モードを終了します。",{setLanguage:function(e){t.isValid(e)&&n===i&&(n=e)},getLanguage:function(){return n},getQuestionCountPreposition:function(){if(!o){e=n===i?t.ENGLISH:n;for(var a=r.txtQuestionCount[e].split(" "),s=0;a.length>s;s++)if(-1===a[s].indexOf("{{")){o=a[s];break}}return o},getString:function(o){return e=n===i?t.ENGLISH:n,r[o][e]},setString:function(o,a){e=n===i?t.ENGLISH:n,r[o][e]=a}}}();var TSC=TSC||{};TSC.videoAnalytics=function(){"use strict";var e,t,i,n,o,r,a,s=3e4,u=0,l=[{duration:3e5,segmentLength:2e3},{duration:18e5,segmentLength:5e3}],c=0,d=!1;return{setVideoLoadStartTime:function(t){e=t},setVideoLoadEndTime:function(e){t=e},getVideoLoadTime:function(){var i=0;return e&&t&&(i=t-e),i},getNumberSegments:function(){return n},setCurrentPlayTime:function(e){r=e},getCurrentPlayTime:function(){return r},getNumberWatchedSegments:function(){return c},isPercentWatchedInitialized:function(){return u>0},clearPercentWatched:function(){u=0},initPercentWatched:function(e){if(!(0>=e)){u=e,i=s;for(var t=0;l.length>t;t++)if(l[t].duration>=e){i=l[t].segmentLength;break}for(o=[],n=Math.ceil(e/i),t=0;n>t;t++)o.push(!1);c=0}},markTimeWatched:function(e){e>u||(r=e/1e3,a=Math.floor(e/i),0>a||a>=n||o[a]||(c++,o[a]=!0))},getPercentageWatched:function(){return n&&n>0?c/n:0},getPercentageWatchedForVideoSegment:function(e,t){var n=0;if(u>0&&t>=e){for(var r=Math.floor(e/i),a=Math.floor(t/i),s=0,l=a-r+1,c=r;a>=c;c++)o[c]&&s++;n=s/l}return n},setEnabled:function(e){d=e},isEnabled:function(){return d}}}();var TSC=TSC||{};TSC.mediaType=function(){"use strict";return{WEBM:"webm",H264:"h264",OGG:"ogg",UNKNOWN:"unknown",NOT_AVAILABLE:"not available",MULTIPLE_TYPES:"multiple types"}}();var TSC=TSC||{};TSC.rtfParser=function(){"use strict";function e(e){var t="par ";return e.toLowerCase()==t}function t(e,t){void 0===t&&(t=0);var i="a",n="z",o=i.charCodeAt(),r=n.charCodeAt(),a=-1;if(e)for(a=e.indexOf(d,t);-1!=a;){if(e.length>a+1){var s=e.toLowerCase().charCodeAt(a+1);if(s>=o&&r>=s)break}a=e.indexOf(d,a+1)}return a}function i(i,o){void 0===o&&(o=0);for(var r=t(i,o);-1!=r;){var a=n(i,r);if(a&&!e(a))break;r=t(i,r+1)}return r}function n(e,t){var i;if(-1!=t){var n=e.indexOf(g,t+1);if(-1!=n){var o=n+1-(t+1);i=e.substr(t+1,o)}else i=e.substr(t+1)}return i}function o(e,t){for(var i="",n=[],o=t.pop();o&&o!=e&&t.length;)i+=d+o,n.push(a(o)),t.length&&(o=t.pop());for(i+=d+e;n.length;){var r=n.pop();r&&(i+=d+r,t.push(a(r)))}return i}function r(e){return-1!=e.indexOf(p)}function a(e){var t;return""!=e&&(r(e)?t=e.substr(0,e.indexOf(p)):(-1!=e.indexOf(f)&&(t=e.substr(0,e.indexOf(f))),t+=p),t+=f),t}function s(e,t){var i=e;if(-1!=t&&i&&i.length>t){var n=i.indexOf(g,t);i=-1!=n?i.substr(0,t)+i.substr(n+1):i.substr(0,t)}return i}function u(e){for(var t=" ",i=e;i.length>1&&i.charAt(0)==t;)i=i.substr(1);for(;i.length>1&&i.charAt(i.length-1)==t;)i=i.substr(0,i.length-1);return i==t&&(i=""),i}function l(s){var u=s;if(u)for(var l=[],c=i(u);-1!==c;){var d=n(u,c);if(d&&r(d)){var p=o(d,l),f=u.indexOf(g,c);u=-1!==f?u.substr(0,c)+p+u.substr(f+1):u.substr(0,c)+p,c+=p.length}else d&&!e(d)&&l.push(a(d)),c=Number(c)+1;c=t(u,c)}return u}function c(e){var t=e;if(t)for(var o=1;o>0;){o=0;for(var r=i(t);-1!=r;){var l=i(t,r+1),c=n(t,r);if(c&&-1!=l){var d=a(c),p=n(t,l);if(p&&p==d){var g=r+1+c.length,f=t.substr(g,l-g);u(f).length||(t=s(t,l),t=s(t,r),l-=c.length+1,o++)}}r=l}}return t}var d="\\",p="0",g=" ",f=" ";return{NestAndCleanUpTags:function(e){var t=e;return t&&(t=l(t),t=c(t)),t}}}();var TSC=TSC||{};TSC.textFormatter=function(){"use strict";return{rtfToText:function(e){var t=!1;return-1!=e.indexOf("{\\rtf1")&&(e=e.split("{\\rtf1 ").join(""),t=!0),e=e.split("\\i ").join(""),e=e.split("\\i0 ").join(""),e=e.split("\\b ").join(""),e=e.split("\\b0 ").join(""),e=e.split("\\ul ").join(""),e=e.split("\\ul0 ").join(""),e=e.split("\\par ").join(""),e=e.split("\\{").join("{"),e=e.split("\\}").join("}"),e=e.split("\\\\").join("\\"),t&&"}"==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),e},rtfToHTML:function(e){e=TSC.rtfParser.NestAndCleanUpTags(e),e=e.split("<").join("&lt;"),e=e.split(">").join("&gt;");var t=!1;return-1!=e.indexOf("{\\rtf1")&&(e=e.split("{\\rtf1 ").join(""),t=!0),e=e.split("\\i0 ").join("</i>"),e=e.split("\\b0 ").join("</b>"),e=e.split("\\ul0 ").join("</u>"),e=e.split("\\i ").join("<i>"),e=e.split("\\b ").join("<b>"),e=e.split("\\ul ").join("<u>"),e=e.split("\\par ").join("<br/>"),e=e.split("\\{").join("{"),e=e.split("\\}").join("}"),e=e.split("\\\\").join("\\"),t&&"}"==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),e=e.split("&lt;br&gt;").join("<br/>"),e=e.split("&lt;BR&gt;").join("<br/>")}}}();var TSC=TSC||{};TSC.deviceInfo=function(){"use strict";function e(){switch(window.location.protocol){case"http:":case"https:":return!1;case"file:":return!0}}function t(){for(var e in navigator.plugins)if(navigator.plugins[e].filename&&-1!==navigator.plugins[e].filename.toLowerCase().indexOf("pepflashplayer"))return!0;return!1}function i(){var i=document.createElement("video")||!1;if(n=i&&i.canPlayType!==void 0,o=n&&("maybe"===i.canPlayType("video/mp4")||"probably"===i.canPlayType("video/mp4")),r=n&&("maybe"===i.canPlayType("video/ogg")||"probably"===i.canPlayType("video/ogg")),a=n&&("maybe"===i.canPlayType("video/webm")||"probably"===i.canPlayType("video/webm")),d=null!==navigator.userAgent.match(/iPad/i),p=null!==navigator.userAgent.match(/iPhone/i),g=null!==navigator.userAgent.match(/iPod/i),f=-1!==navigator.userAgent.toLowerCase().indexOf("android"),c=-1!==navigator.userAgent.toLowerCase().indexOf("chrome"),u="Microsoft Internet Explorer"==navigator.appName,c&&e()&&(T=t()),u){var h=navigator.userAgent,A=RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");
null!=A.exec(h)&&(s=parseFloat(RegExp.$1))}l=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),C=null!==navigator.userAgent.match(/Nuevo/i),m=null!==navigator.userAgent.match(/Safari/i),v=640>screen.availWidth&&480>screen.availHeight||480>screen.availWidth&&640>screen.availHeight,S=(p||g||d)&&window.devicePixelRatio>=2,(p||g)&&C&&S&&(d=!0,p=g=!1)}var n,o,r,a,s,u=!1,l=!1,c=!1,d=!1,p=!1,g=!1,f=!1,C=!1,m=!1,S=!1,v=!1,T=!1;return{isSmallScreen:function(){return v},isRetinaDisplay:function(){return S},isNuevoApp:function(){return C},isIPad:function(){return d},isIPhoneOrIPod:function(){return p||g},isIE:function(){return u},getIEVersion:function(){return s},isFirefox:function(){return l},isChrome:function(){return c},isSafari:function(){return m},isAndroid:function(){return f},canPlayHTML5Video:function(){return n},canPlayMP4:function(){return o},canPlayOgg:function(){return r},canPlayWebM:function(){return a},isTouchInterface:function(){return Modernizr.touch},supportsFullScreenKeyboardInput:function(){var e=!1;return c&&void 0!==Element.ALLOW_KEYBOARD_INPUT&&(e=!0),e},mediaLocation:function(){var e=document.location.href,t=e.lastIndexOf("/"),i=e.substring(0,t+1);return 1==TSC.deviceInfo.isIE()&&(i=encodeURI(i)),i=i.split("%25").join("%")},isLocal:function(){return e()},isLocalPepperFlash:function(){return T},lookAtDevice:function(){i()}}}();var TSC=TSC||{};TSC.playerConfiguration=function(){"use strict";function e(e){var t=e.replace(/&#8217;/g,"'");return t}function t(e){return/[^\u0000-\u00ff]/.test(e)}var i,n,o,r,a,s,u,l="10.2.0",c=[],d="'playerProductInstall.swf",p="tsc_player.swf",g="100%",f="100%",C="stop",m=!0,S=!0,v=!1,T=-1,h=!1,A=!1,b="left",y="#000",w=!1,I=!1,E=!0,x=!1,N=!0,M=!1,L=!1,R=!1,P=!1,k=!0,q=!0,D=!1,Q=!1,V=!1,z=!1,O=!0,F=".",G={},U="flash",B="";return{isIEOnServerWithUnicode:function(){return 1==TSC.deviceInfo.isIE()&&1==TSC.playerConfiguration.runOnServer()&&TSC.playerConfiguration.getProcessUnicodeNames()},runOnServer:function(){var e=!1,t=document.location.href;return 0==t.indexOf("http")&&(e=!0),e},getUnicodeSafeString:function(e){return void 0===e?e:TSC.playerConfiguration.getProcessUnicodeNames()?1==TSC.deviceInfo.isIE()?TSC.playerConfiguration.runOnServer()?t(e)?encodeURI(e):e:decodeURIComponent(e):encodeURIComponent(e):e},getMediaSrc:function(){return c.length>0?c[0]:""},clearMediaSrc:function(){c=[]},setMediaSrc:function(t){c[0]=e(t)},addMediaSrc:function(t){c.push(e(t))},getMediaSources:function(){return c},getMediaFileName:function(){var e,t=c.length>0?c[0]:void 0;if(t){var i=t.split("/");e=i[i.length-1],e=e.split("?")[0],(void 0===e||""===e)&&(e="Unnamed Media")}else e="No Media";return e},getXMPSrc:function(){return TSC.playerConfiguration.getUnicodeSafeString(i)},setXMPSrc:function(t){i=e(t)},setSwfBase:function(t){F=e(t)},getSwfBase:function(){return F},getConfigurationSrc:function(){return TSC.playerConfiguration.getUnicodeSafeString(n)},setConfigurationSrc:function(e){n=e},getPosterImageSrc:function(){return TSC.playerConfiguration.getUnicodeSafeString(o)},setPosterImageSrc:function(e){o=e},getUnableToDisplayContentString:function(){return TSC.localizationStrings.getString("videoNotSupported")},getFlashUpdateBootstrapSwf:function(){return d},setFlashUpdateBootstrapSwf:function(e){d=e},getFlashPlayerSwf:function(){return p},setFlashPlayerSwf:function(t){p=e(t)},getPlayerWidth:function(){return g},setPlayerWidth:function(e){g=e},getPlayerHeight:function(){return f},setPlayerHeight:function(e){f=e},getEndActionType:function(){return C},setEndActionType:function(e){C=e},getEndActionParam:function(){return m},setEndActionParam:function(e){m=e},getIsSearchable:function(){return S},setIsSearchable:function(e){S=e},getAutoPlayMedia:function(){return v},setAutoPlayMedia:function(e){v=e},getAllowRewind:function(){return T},setAllowRewind:function(e){T=e},getCaptionsEnabled:function(){return h},setCaptionsEnabled:function(e){h=e},getSidebarEnabled:function(){return A},setSidebarEnabled:function(e){A=e},getSidebarLocation:function(){return b},setSidebarLocation:function(e){b=e},getBackgroundColor:function(){return y},setBackgroundColor:function(e){y=e},getMinFlashPlayerVersion:function(){return l},setDebugHotspot:function(e){w=e},getDebugHotspot:function(){return w},setAutoHideControls:function(e){E=e},getAutoHideControls:function(){return E},setProcessUnicodeNames:function(e){I=e},getProcessUnicodeNames:function(){return I},setReportScormComplete:function(e){x=e},getReportScormComplete:function(){return x},setEnforceLinearAssessment:function(e){N=e},getEnforceLinearAssessment:function(){return N},setDisableFullframeMode:function(e){M=e},getDisableFullframeMode:function(){return M},getDisableControls:function(){return L},setDisableControls:function(e){L=e},getMobileWebViewCanAutoPlay:function(){return R},setMobileWebViewCanAutoPlay:function(e){R=e},setGoogleAnalyticsID:function(e){r=e},getGoogleAnalyticsID:function(){return r},setGAPageViewTracking:function(e){k=e},getGAPageViewTracking:function(){return k},setGAEventTracking:function(e){q=e},getGAEventTracking:function(){return q},useCustomEventTracking:function(e,t){D=e,a=t},getTrackEvents:function(){return D||void 0!==r},getCustomEventTracking:function(){return D},getCustomEventCallback:function(){return a},setAltEventCategoryAsFilename:function(e){Q=e},getAltEventCategoryAsFilename:function(){return Q},setAltLoadTimeAsSeconds:function(e){V=e},getAltLoadTimeAsSeconds:function(){return V},setAdvancedSeeking:function(e){P=e},getAdvancedSeeking:function(){return P},setIframeCommunicationsEnabled:function(e){O=e},getIframeCommunicationsEnabled:function(){return O},getFrameElement:function(){try{return window!=window.top&&O?$(window.frameElement):""}catch(e){TSC.playerConfiguration.setDisableFullframeMode(!0)}},setTechPreference:function(e){("flash"===e||"html5"===e)&&(U=e)},getTechPreference:function(){return U},setURLParams:function(e){G=e},getURLParams:function(){return G},setDebugUIMode:function(e){z=e},getDebugUIMode:function(){return z},setFathomId:function(e){s=e},getFathomId:function(){return s},setAdditionalAppQueryParamsFromJson:function(e){var t="";for(var i in e)t+="?"+i+"="+e[i];B=t},getAdditionalAppQueryString:function(){return B},setScormStartPt:function(e){u=e},getScormStartPt:function(){return u}}}();var TSC=TSC||{};TSC.mediaList=function(){"use strict";function e(){d=0,-1!=a[0].toLowerCase().indexOf(l)?(p=!0,t(TSC.playerConfiguration.getUnicodeSafeString(a[0]))):(p=!1,c.push(a),s&&s.call())}function t(e){$.ajax({type:"GET",url:e,isLocal:!0,dataType:"text",success:i,error:n})}function i(e){c=e.split(/\r?\n/g);for(var t=c.length-1,i=t;i>=0;i--)""===c[i]?c.splice(i,1):c[i]=TSC.playerConfiguration.getUnicodeSafeString(c[i]);s&&s.call()}function n(){"string"==typeof TSC.embedded_playlist?i(TSC.embedded_playlist):u&&u.call()}function o(e){var t="",i=r(e);switch(i){case TSC.mediaType.WEBM:t="video/webm";break;case TSC.mediaType.H264:t="video/mp4";break;case TSC.mediaType.OGG:t="video/ogg";default:}return t}function r(e){var t=TSC.mediaType.UNKNOWN,i=e.split(".");if(i.length>0){var n=i.pop().toLowerCase();switch(n){case"webm":t=TSC.mediaType.WEBM;break;case"mp4":case"m4v":case"mov":t=TSC.mediaType.H264;break;case"ogv":t=TSC.mediaType.OGG;break;default:}}return t}var a,s,u,l=".m3u",c=[],d=0,p=!1;return{init:function(t){a=t,e()},clear:function(){c=[],d=0,a=void 0},currentVideoSrc:function(){return c.length>0?c[d]:void 0},currentVideoIndex:function(){return d},setCurrentVideo:function(e){"next"===e?c.length-1>d&&d++:"previous"===e?d>0&&d--:Number(e)>=0&&Number(e)<c.length&&(d=Number(e))},getMediaList:function(){return c},getVideoIndexBySrc:function(e){for(var t=d,i=0;c.length>i;i++)if(p){if(c[i]===e){t=i;break}}else for(var n=0;c[i].length>n;n++)if(c[i][n]===e){t=i;break}return t},getMediaType:function(){var e=TSC.mediaType.NOT_AVAILABLE;if(c.length>0)if(e=TSC.mediaType.UNKNOWN,p)e=r(c[d]);else{var t=c[d].length;e=1===t?r(c[d][0]):TSC.mediaType.MULTIPLE_TYPES}return e},getMediaMimeType:function(e){return o(e)},isMediaTypeAvailable:function(e){var t=!1;if(c.length>0)if(p)t=e===r(c[d]);else for(var i=c[d].length,n=0;i>n&&!(t=e===r(c[d][n]));n++);return t},isPlaylist:function(){return p},onFirstVideo:function(){return 0===d},onLastVideo:function(){return d+1===c.length},getErrorMessage:function(){return TSC.localizationStrings.getString("playlistLocalError")},addEventListener:function(e,t){"READY"===e?s=t:"ERROR"===e&&(u=t)},removeEventListener:function(e){"READY"===e?s=void 0:"ERROR"===e&&(u=void 0)}}}();var TSC=TSC||{};TSC.ioOverlayView=function(){"use strict";var e="#tsc_io_container",t="#tsc_io_overlay",i='<div id="tsc_io_container"><div id="tsc_io_message"><span>{{ioMessage}}</span><img src="{{loaderImg}}" /></div></div><div id="tsc_io_overlay"></div>',n="data:image/gif;base64,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 Cwg1RAAAOwAAAAAAAAAAAA==",o=!1;return{getViewMarkup:function(e){var t=Handlebars.compile(i),o={ioMessage:e,loaderImg:n};return t(o)},setViewMessage:function(t){$(e+" span").html(t)},hideLoadingGraphic:function(){$(e+" img").hide()},showLoadingGraphic:function(){$(e+" img").show()},viewOpen:function(){return o},showView:function(){$(e).css("opacity",0),$(e).animate({opacity:1},300),o=!0},removeView:function(i){o=!1,$(t).animate({opacity:0},200,function(){$(t).remove()}),$(e).animate({opacity:0},200,function(){void 0!==i&&i.call(),$(e).remove()})}}}();var TSC=TSC||{};TSC.playerView=function(){"use strict";function e(e,t,i){TSC.playerConfiguration.getCustomEventTracking()&&TSC.playerConfiguration.getCustomEventCallback()&&(TSC.playerConfiguration.getAltEventCategoryAsFilename()?TSC.playerConfiguration.getCustomEventCallback().call(this,{category:TSC.playerConfiguration.getMediaFileName(),action:e,label:t,value:i}):TSC.playerConfiguration.getCustomEventCallback().call(this,{category:hn,action:e,label:t,value:i})),TSC.playerConfiguration.getGoogleAnalyticsID()&&_gaq.push(["_trackEvent",hn,e,t])}function t(){return TSC.quizModel&&TSC.quizModel.getQuizID()}function i(e){Bt&&Ri&&e.keyCode===An&&(e.originalEvent.preventDefault(),Bt[0].paused?Bt[0].play():Bt[0].pause())}function n(){$(document).bind("keydown",i)}function o(){$(document).unbind("keydown",i)}function r(e){e=e.replace(/\)/gi,"\\)"),e=e.replace(/\(/gi,"\\("),$("#videoClickToPlay, #videoClickToReplay").css("background-image","url("+e+")")}function a(e){-1!=Zi&&$("#tableOfContentsList li:nth-child("+Zi+") ").removeClass("selectedTocItem"),Zi=e,$("#tableOfContentsList li:nth-child("+Zi+") ").addClass("selectedTocItem")}function s(e){for(var t=0;e.length>t;t++){var i;i=void 0!==e[t].start?e[t].start:e[t].time,c(e[t].text,i,e[t].file,e[t].imageRef,e[t].imageRect)}}function u(e){var t,i=[];for(t=0;e.length>t;t++){var n=e[t].text;-1!=n.toLowerCase().indexOf(di.val().toLowerCase())&&i.push(e[t])}var o,r=i.length;for(o=0;r>o;o++)l(i[o])}function l(e){for(var t=e.items.length,i=di.val().toLowerCase().split(" "),n=0;t>n;n++){var o="",r=e.items[n],a=i[0];if(!(0>r.toLowerCase().indexOf(a))){for(var s=0;i.length>s;s++)o+=n+s>=t?"":0==n?e.items[n+s]:" "+e.items[n+s];if(-1!=o.toLowerCase().indexOf(di.val().toLowerCase())){var u;u=4>i.length?Math.floor(5-i.length/2):2;for(var l,c="",d="",p=1;u>=p;p++)n-p>=0&&(c=e.items[n-p]+" "),t>n+s+p&&(d+=" "+e.items[n+s+(p-1)]);o=M(o,di.val()),l="..."+c+o+d+"...";var g=e.file,f="";void 0!==g&&(f="data-file='"+g+"'"),L("#searchList",l,e.start,g,void 0,void 0,di.val())}}}}function c(e,t,i,n,o){-1!=e.toLowerCase().indexOf(di.val().toLowerCase())&&L("#searchList",e,t,i,n,o,di.val())}function d(){var e=$("#hotspotContainerDebug"),t=e[0].getContext("2d");t.clearRect(0,0,$("#hotspotContainerDebug").width(),$("#hotspotContainerDebug").height()),t.fillStyle="rgba(255, 0, 0, 0.5)";var i,n;$.each(TSC.xmp.getHotspotItemArray(),function(){if(n=$(this)[0],n.isActive){i=n.scaledPoints.length,t.beginPath();for(var e=0;i>e;e+=2)0===e?t.moveTo(n.scaledPoints[e],n.scaledPoints[e+1]):t.lineTo(n.scaledPoints[e],n.scaledPoints[e+1]);t.lineTo(n.scaledPoints[0],n.scaledPoints[1]),t.closePath(),t.fill()}})}function p(e,t,i,n){for(var o="",r=t.points.length,a=0;r>a;a++)t.scaledPoints[a]=Math.round(t.points[a]*i),0>t.scaledPoints[a]&&(t.scaledPoints[a]=0),o+=0===a?t.scaledPoints[a]:","+t.scaledPoints[a];TSC.playerConfiguration.getDebugHotspot()&&d(),n?$(n).attr("coords",o):($("#hotspotMap").append('<area shape="poly" coords="'+o+'" hotspot_index="'+e+'" href="#" alt="Hotspot" />'),$("#hotspotMap area").bind("click",vt))}function g(e,t){if(!(0>xi)){var i=(Number(e)-Number(xi)*sn)/2,n=(Number(t)-Number(Ni)*sn)/2;0>i&&(i=0),0>n&&(n=0);var o=xi*sn,r=Ni*sn;$("#hotspotContainer").attr("width",o),$("#hotspotContainer").attr("height",r),$("#hotspotContainer").css("left",i),$("#hotspotContainer").css("top",n),TSC.playerConfiguration.getDebugHotspot()&&($("#hotspotContainerDebug").attr("width",o),$("#hotspotContainerDebug").attr("height",r),$("#hotspotContainerDebug").css("left",i),$("#hotspotContainerDebug").css("top",n));var a,s,u=$("#hotspotMap area"),l=u.length;if(l>0)for(var c=0;l>c;c++)if(a=u[c],s=$(a).attr("hotspot_index")){var d=TSC.xmp.getHotspotItemArray(),g=d[Number(s)];g&&p(Number(s),g,sn,a)}}}function f(){$("#searchList").remove(),Yt.show(),P()}function C(){if(void 0!==Bt){var e=Bt[0].offsetWidth,t=e-20;"under"===TSC.xmp.getCaptionPosition()?(t=e,si.css("width",t+"px"),si.css("left","0"),si.css("bottom",ti.height()+"px"),si.css("height",TSC.xmp.getCaptionBarHeight()*sn+"px")):(t=e-20,t!==si.width()&&(si.css("width",t+"px"),si.css("left","10px")),si.css("height",$("#currentCaption span").innerHeight()))}}function m(){var e=$("#markers"),t=e[0].getContext("2d");TSC.quizController.drawMarkers(1e3*Bt[0].duration,t,cn,dn)}function S(){Qi=$("#videoSidebarHead")[0].offsetHeight+Vi;var e;e=TSC.xmp.hasCaptionItems()&&"under"===TSC.xmp.getCaptionPosition()?vi-Qi:vi-ti.height()-Qi,$("#videoSidebarContent").height(e)}function v(){$("#tscVideoContent").css("width",TSC.playerConfiguration.getPlayerWidth()),$("#tscVideoContent").css("height",TSC.playerConfiguration.getPlayerHeight()),vi=$("#tscVideoContent").innerHeight(),Ti=$("#tscVideoContent").innerWidth(),(!mn||rn)&&Ni>0&&TSC.xmp.hasCaptionItems()&&"under"===TSC.xmp.getCaptionPosition()&&(vi=Ni*((vi-ti.height())/(Ni+TSC.xmp.getCaptionBarHeight()))),ti.width(Ti),"right"===TSC.playerConfiguration.getSidebarLocation()?(ri.css("left",Ti-ri.outerWidth()),ri.css("top",$("#tscVideoContent").offset().top)):(ri.css("left",$("#tscVideoContent").offset().left),ri.css("top",$("#tscVideoContent").offset().top));var e;e=ni.outerWidth(!0)+ki;var i=$("#play_time").outerWidth(!0)+$(".seperator").outerWidth(!0)+ki;TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()?($("#volume").remove(),Ji&&(e+=jt.outerWidth(!0)),qi&&(e+=Zt.outerWidth(!0)),e+=ki):Ji?(e=e+ai.outerWidth(!0)+jt.outerWidth(!0)+ki,(Di||qi)&&(e+=Zt.outerWidth(!0))):(e=e+ai.outerWidth(!0)+ki,(Di||qi)&&(e+=Zt.outerWidth(!0))),ui.is(":visible")&&(e+=ui.outerWidth(!0)),_t.is(":visible")&&(e+=_t.outerWidth(!0)),Wt.is(":visible")&&(e=e+Wt.outerWidth(!0)+Jt.outerWidth(!0)),qi&&($("#fullscreen_enter_button").removeClass("fullscreen_enter_button_normal"),$("#fullscreen_enter_button").addClass("fullframe_enter_button_normal")),Xt.width(Ti-e),ei.width(Ti-e-i),$(".videoDimensions").width(Ti),$(".videoDimensions").height(vi),Ji&&S();var n=Bt&&Bt.length>0;if(n&&(Bt.attr("height",vi+"px"),Bt.attr("width",Ti+"px")),gi.length>0)fi.css("left",ai.outerWidth(!0)+2*ki+"px");else{var o=ai.offset().left+(ai.width()/2-fi.width()/2);o+fi.width()>$("#tscVideoContent").offset().left+$("#tscVideoContent").width()&&(o=$("#tscVideoContent").offset().left+$("#tscVideoContent").width()-(fi.width()+5)),fi.css("left",o+"px")}n&&Bt[0].duration&&(_(),t()&&TSC.quizController.quizEnabled()&&(cn=Ti-e-i,dn=ti.height(),$("#markers").attr("width",cn+"px"),$("#markers").attr("height",dn+"px"),m(),TSC.quizController.viewOpen()&&TSC.quizController.pointViewAt(w(ln)))),T(),TSC.xmp.hasHotspotItems()&&g(Ti,vi),TSC.xmp.hasCaptionItems()&&(Tt(),C())}function T(){if(xi>0&&Ti>0){var e=Ti/xi,t=vi/Ni,i=Math.min(e,t);sn=i}}function h(){Ji&&!TSC.deviceInfo.supportsFullScreenKeyboardInput()&&($("#searchArea").show(),$("#fsSearchAlert").remove(),S())}function A(){TSC.playerConfiguration.getDisableControls()||ti.show(),TSC.xmp.hasCaptionItems()&&"under"===TSC.xmp.getCaptionPosition()&&si.removeClass("hide"),TSC.deviceInfo.isTouchInterface()?it():TSC.playerConfiguration.getAutoHideControls()&&dt(),$("#ctoplay").hide(),xt()}function b(){pn=!0,!t()||t()&&(!TSC.quizController.quizEnabled()||TSC.quizController.getQuizReady())?A():(Bt[0].pause(),Et(TSC.quizController.getLastStatusMessage())),TSC.videoAnalytics.isEnabled()&&!TSC.videoAnalytics.isPercentWatchedInitialized()&&TSC.videoAnalytics.initPercentWatched(1e3*Bt[0].duration),!Bt[0].webkitSupportsFullscreen||TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()?window==window.top||TSC.playerConfiguration.getDisableFullframeMode()?$("#fullscreen_enter_button").remove():(Zt.show(),qi=!0):(document.addEventListener("webkitfullscreenchange",function(e){"tscVideoContent"==""+e.target.id&&(Mi=!Mi,Mi?($("#fullscreen_enter_button").removeClass("fullscreen_enter_button_normal"),$("#fullscreen_enter_button").addClass("fullscreen_leave_button_normal")):(h(),$("#fullscreen_enter_button").removeClass("fullscreen_leave_button_normal"),$("#fullscreen_enter_button").addClass("fullscreen_enter_button_normal"),$("body").css("margin-left","1px"),Pi=!0,v(),$("body").css("margin-left","0"),Pi=!0,v()))}),Di=!0),Pi=!0,v(),Bt[0].removeEventListener("loadedmetadata",b,!1)}function y(){var e;"under"===TSC.xmp.getCaptionPosition()?(e=ti.height(),si.css("bottom",e+"px")):si.hasClass("captionVAlignTop")?(e=20,si.css("bottom",""),si.css("top",e+"px")):(e=ti.height()+10,si.css("top",""),si.css("bottom",e+"px"))}function w(e){var t=ei.position().left;if(Bt&&Bt[0].duration&&Bt[0].duration>0)if(e>=0&&Bt[0].duration>=e){var i=e/Bt[0].duration;t+=i*ei[0].offsetWidth}else e>Bt[0].duration&&(t+=ei[0].offsetWidth);return t}function I(){if(Ri&&(!t()||!TSC.quizController.quizEnabled()||TSC.quizController.getQuizReady())){var i=!1;if((-1===xi||0===xi)&&(xi=Bt[0].videoWidth,Ni=Bt[0].videoHeight,T(),TSC.xmp.hasCaptionItems()&&Tt(),TSC.xmp.hasHotspotItems()&&g(Ti,vi),v(),i=!0),mn=Number(Bt[0].currentTime.toFixed(2))>=Number(Bt[0].duration.toFixed(2)),zi=(zi+(Bt[0].currentTime-$i))/2+.33,$i=i?0:Bt[0].currentTime>Bt[0].duration?Bt[0].duration:Bt[0].currentTime,Oi=1e3*$i,TSC.videoAnalytics.isEnabled()){var n=Math.round(100*TSC.videoAnalytics.getPercentageWatched());TSC.videoAnalytics.markTimeWatched(Oi),"function"==typeof onVideoWatchedPercentage&&onVideoWatchedPercentage(.01*n,TSC.videoAnalytics.getCurrentPlayTime()),TSC.playerConfiguration.getTrackEvents()&&n>=vn+Tn&&(vn+=Tn,n>vn&&(vn=Tn*Math.floor(n/Tn)+Tn),vn>100&&(vn=100),e("Video_Percent_Viewed","Viewed: "+vn+" Percent"))}var r="";if(!nn&&t()&&TSC.quizController.quizEnabled()){var a=TSC.quizController.findQuestionSet(Oi);if(a.id>=0){if(un!==a.id){if(TSC.deviceInfo.isTouchInterface()||o(),pt(),ft(!1),ri&&q(!1),un=a.id,ln=a.markerTime/1e3,Bt[0].pause(),setTimeout(function(){U(ln,!0)},100),Mi&&!TSC.deviceInfo.supportsFullScreenKeyboardInput()&&qt("#videoWrapper",TSC.localizationStrings.getString("txtQuizFullscreenMode"),!0),TSC.quizController.displayConfirm(a.id),TSC.quizController.pointViewAt(w(ln)),TSC.videoAnalytics.isEnabled()){TSC.videoAnalytics.markTimeWatched(a.markerTime);var n=TSC.videoAnalytics.getPercentageWatchedForVideoSegment(TSC.quizController.findPrevMarkerTimeForMarker(a.id),a.markerTime);TSC.quizController.updatePercentWatchedForQuestionSet(un,n)}Ct(!1)}}else un=-1}var s=0;$.each(TSC.xmp.getHotspotItemArray(),function(){var e,t=$(this)[0];TSC.mediaList.isPlaylist()&&(e=TSC.mediaList.currentVideoSrc());var i=!0;if(void 0!==t.file&&t.file!==e&&(i=!1),$i>t.start&&t.end>=$i&&i)t.isActive===!1&&(t.isActive=!0,p(s,t,sn)),void 0!==t.pause&&t.pause===!0&&$i+zi>t.end&&!Bt[0].paused&&!t.hasPaused&&(t.hasPaused===!1&&Bt[0].pause(),t.hasPaused=!0,x(t.end));else{if(t.isActive){t.isActive=!1;var n=0;$("#hotspotMap area").each(function(){var e=$(this)[0];return n++,Number($(e).attr("hotspot_index"))===s?!1:void 0}),n>0&&$("#hotspotMap area:nth-child("+n+")").remove(),TSC.playerConfiguration.getDebugHotspot()&&d()}Bt[0].paused||(t.hasPaused=!1)}s++});var u=!1,l=!1;$.each(TSC.xmp.getCaptionItemArray(),function(){var e,t=$(this)[0];TSC.mediaList.isPlaylist()&&(e=TSC.mediaList.currentVideoSrc());var i=!0;void 0!==t.file&&t.file!==e&&(i=!1),$i>t.start&&t.end>=$i&&i&&(l=!0,t.text!==si.text()&&(si.removeClass("captionHAlignLeft"),si.removeClass("captionHAlignCenter"),si.removeClass("captionHAlignRight"),si.addClass(t.hAlignClass),si.removeClass("captionVAlignTop"),si.removeClass("captionVAlignBottom"),si.addClass(t.vAlignClass),y(),r=t.htmlText,u=!0))}),l?u&&(""!==r&&(r="<span>"+r+"</span>"),si.html(r),""!==r&&("under"!==TSC.xmp.getCaptionPosition()?$("#currentCaption span").css("background",TSC.xmp.getCaptionBg()):$("#currentCaption span").css("background","none")),C(),Ft&&Ft.call(r)):si.html(""),_i?(ui.removeClass("closed_caption_off_button_normal"),ui.addClass("closed_caption_button_normal"),si.removeClass("hide"),C()):(ui.removeClass("closed_caption_button_normal"),ui.addClass("closed_caption_off_button_normal"),si.addClass("hide")),TSC.playerConfiguration.getReportScormComplete()&&1===TSC.videoAnalytics.getPercentageWatched()&&(TSC.playerConfiguration.setReportScormComplete(!1),"function"==typeof userSubmitVideoCompletedToLMS&&userSubmitVideoCompletedToLMS()),nn||-1!==un||!mn||Cn||(Cn=!0,Bt[0].pause(),X())}}function E(e){e>1?e=1:0>e&&(e=0),Bt[0].volume=e}function x(e){$.each(TSC.xmp.getHotspotItemArray(),function(){var t=$(this)[0];t.end===e&&(t.hasPaused=!0)})}function N(){$.each(TSC.xmp.getHotspotItemArray(),function(){var e=$(this)[0];e.hasPaused=!1,e.isActive=!1}),$("#hotspotMap area").remove(),TSC.playerConfiguration.getDebugHotspot()&&d()}function M(e,t){var i=RegExp(t,"ig");return e.replace(i,"<span class='foundSearchText'>"+t+"</span>")}function L(e,t,i,n,o,r,s){var u,l,c,d="",p="",g="",f=1,C=0,m=0,S=20,v=65,T=!1;if(void 0!==n&&(g="data-file='"+n+"'"),r){var h=r.split(",");-Number(h[0]),-Number(h[1]);var A=Number(h[2]),b=Number(h[3]);u="hasThumbImage",p="style='height:"+b+"px'",v>b&&(T=!0,p="style='height:"+v+"px'"),TSC.xmp.getTocCellLayoutType()&&"imageOnly"===TSC.xmp.getTocCellLayoutType()&&void 0===s?C=(Yi-A-S)/2:A>Yi/2-S?(f=(Yi/2-S)/A,A=Yi/2-S,m=Math.floor((h[3]-h[3]*f)/2)):m=Math.floor((v-h[3]*f)/2),c={},c.width=Number(Yi-A-40)+"px",c.left=Number(A+5)+"px",c.overflow="hidden",c["line-height"]="1.2em",c["max-height"]="4.8em",l=void 0!==s?'<div class="tocItemLabel">'+M(t,s)+"</div>":TSC.xmp.getTocCellLayoutType()&&"imageOnly"===TSC.xmp.getTocCellLayoutType()?"":'<div class="tocItemLabel">'+t+"</div>",d="<div>"+l+"</div>"}else p="",u="noThumbImage",d=void 0!==s?M(t,s):t;var y="<li "+p+" class='"+u+"' data-time='"+i+"' "+g+" ></li>";if($(e).append(y),o){var w=o.getContext("2d");o.width=Number(h[2])*f,o.height=Number(h[3])*f,w.scale(f,f),mi?w.drawImage(mi,h[0],h[1],h[2],h[3],0,0,h[2],h[3]):(w.fillStyle="#000000",w.fillRect(0,0,h[2],h[3])),$(o).css("margin-left",C),$(o).css("margin-top",m),$(e+" li:last-child").append(o)}if($(e+" li:last-child").append(d),o){$(e+" li:last-child .tocItemLabel").css(c);var I=0,E=v;$(ri).is(":visible")?(I=$(e+" li:last-child .tocItemLabel").height(),T||(E=$(e+" li:last-child").height())):(q(!0),I=$(e+" li:last-child .tocItemLabel").height(),T||(E=$(e+" li:last-child").height()),q(!1));var x=-8;T||1!==f||(x=4);var N=-Number(E+x);N+=(E-I)/2,m=Math.floor((E-h[3]*f)/2),$(o).css("margin-top",m),$(e+" li:last-child .tocItemLabel").css("top",N+"px")}TSC.mediaList.isPlaylist()&&a(Zi)}function R(e){mi=new Image,mi.onload=function(){P()},mi.onerror=function(){mi.onload=void 0,mi.onerror=void 0,mi=void 0,P()},mi.src=e}function P(){var e=TSC.xmp.getTocItemArray(),t=e.length;$("#tableOfContentsList li").remove();for(var i=0;t>i;i++)e[i].imageRect&&(e[i].imageRef=document.createElement("canvas")),L("#tableOfContentsList",e[i].text,e[i].time,e[i].file,e[i].imageRef,e[i].imageRect)}function k(){var e,t,i,n=Si.width,o=Si.height,r=.6;n>=o?n>Yi-20?(e=(Yi-20)/n,t=Yi-20,i=o*e):(e=1,t=n,i=o):o>Yi-20?(e=(n*r-20)/o,i=Yi*r-20,t=n*e):(e=1,i=o,t=n);var a='<div id="pipimage" style="background-image: url('+TSC.xmp.getTocImageSrc()+");"+"background-repeat:no-repeat;"+"background-size:contain;"+"width: "+t+"px;"+"height: "+i+"px;"+"border: 1px solid #FFFFFF;"+"margin-left: "+(Yi-t)/2+"px;"+"margin-right:"+(Yi-t)/2+"px;"+"margin-top: 10px;"+'margin-bottom:  10px;"'+"></div>";$(a).prependTo($("#videoSidebarHead")),$("#videoSidebarHead").prepend(TSC.xmp.getTocTitle()),S()}function q(e){e?(ri.show(),Ct(!1)):(ri.hide(),Xi||Ct(!0))}function D(e){if(rn=!1,!TSC.deviceInfo.isTouchInterface()||!an){e.stopImmediatePropagation(),e.preventDefault();var t=$(this).attr("data-time"),i=$(this).attr("data-file");if(void 0!==i){N();var n=TSC.mediaList.getVideoIndexBySrc(i);n===TSC.mediaList.currentVideoIndex()?U(t):(TSC.mediaList.setCurrentVideo(n),Lt()),a(n+1)}else N(),U(t)}}function Q(){Ki?q(!0):q(!1),TSC.playerConfiguration.getIsSearchable()?(di.keyup(function(){""!=di.val()?(Yt.hide(),$("#searchList").remove(),$("#videoSidebarContent").append("<ol id='searchList' ></ol>"),s(TSC.xmp.getTocItemArray()),s(TSC.xmp.getCaptionItemArray()),u(TSC.xmp.getScreenTextItemArray()),1>TSC.xmp.getCaptionItemArray().length&&TSC.xmp.getScreenTextItemArray().length>0&&u(TSC.xmp.getScreenTextItemArray()),$("#searchList").show()):f()}),Kt.click(function(){di.val(""),f()})):$("#searchArea").remove(),TSC.xmp.getTocImageSrc()?(Si=new Image,Si.onload=k,Si.src=TSC.xmp.getTocImageSrc()):$("#videoSidebarHead").prepend(TSC.xmp.getTocTitle()),TSC.xmp.tocContainsThumbs()?R(TSC.xmp.getTocThumbImageSrc()):P(),TSC.deviceInfo.isTouchInterface()?(on="touchend",an=!1):$("#videoSidebarContent ol li").live(on,D)}function V(e){function t(){nn&&!TSC.deviceInfo.isTouchInterface()&&TSC.playerConfiguration.getAutoHideControls()&&St(),nn=!1,G(),TSC.deviceInfo.isTouchInterface()?(document.ontouchmove=null,document.ontouchend=null):(document.onmousemove=null,document.onmouseup=null),i&&!mn&&Bt[0].play(),I()}var i;nn=!0,TSC.deviceInfo.isTouchInterface()||window.clearTimeout(en),Bt[0].paused?i=!1:(i=!0,Bt[0].pause()),F(),TSC.deviceInfo.isTouchInterface()?(B(e.originalEvent.touches[0].clientX),document.ontouchmove=function(e){e.preventDefault(),B(e.pageX)},document.ontouchend=t):(document.onmousemove=function(e){B(e.pageX)},document.onmouseup=t)}function z(){Bt.bind("timeupdate",function(){_()}),Bt.bind("progress",function(){O()}),Bt.bind("durationchange",function(){O(),hi&&window.clearInterval(hi),hi=window.setInterval(O,1e3)}),TSC.deviceInfo.isTouchInterface()||(ei.bind("mousedown",V),ei.bind("mouseup",function(e){B(e.originalEvent.pageX)}))}function O(){if(Bt&&Bt.length>0){var e=0;if(Bt[0].buffered&&Bt[0].buffered.length)for(var t=0;Bt[0].buffered.length>t;t++)e=Math.ceil(100*(Bt[0].buffered.end(t)/Bt[0].duration));$("#load_progress").css("width",e+"%"),100===e&&hi&&window.clearInterval(hi)}}function F(){document.body.focus(),document.onselectstart=function(){return!1}}function G(){document.onselectstart=function(){return!0}}function U(e,t){void 0===t&&(t=!1);try{for(var i=!1,n=0;Bt[0].seekable.length>n;n++){var o=Bt[0].seekable.start(n),r=Bt[0].seekable.end(n);e>=o&&r>=e&&(i=!0)}i?Fi?Gi=e:(Bt[0].currentTime=e,_()):t&&setTimeout(function(){U(e,!0)},100)}catch(a){t&&setTimeout(function(){U(e,!0)},100)}}function B(e){N();var t=Math.max(0,Math.min(1,(e-ei.position().left)/ei[0].offsetWidth)),i=t*(ei[0].offsetWidth-2);if(Ci.length>0){ii.offset().left;
var n=Ci.width(),o=i-Math.floor(n/2);Ci.css("left",o+1)}ii.width(i),rn=!1,U(Number(t*Bt[0].duration)),H()}function _(){ii.width(Bt[0].currentTime/Bt[0].duration*(ei[0].offsetWidth-2)),ii.offset().left;var e=Bt[0].currentTime/Bt[0].duration*(ei[0].offsetWidth-2);if(Ci.length>0){var t=Ci.width();Ci.css("left",e-Math.floor(t/2))}H()}function H(){ni[0].innerHTML=W(Bt[0].currentTime),Bt[0].duration&&(oi[0].innerHTML=W(Bt[0].duration))}function W(e){e=Math.round(e);var t=Math.floor(e/60);return t=t>=10?t:"0"+t,e=Math.floor(e%60),e=e>=10?e:"0"+e,t+":"+e}function J(e,t){var i=100;try{i=void 0==localStorage.getItem("volume")?100:localStorage.getItem("volume")}catch(n){}e.slider({orientation:t,range:"min",min:0,max:100,value:i,slide:function(e,t){ai.removeClass("volume_button_high_normal"),ai.removeClass("volume_button_med_normal"),ai.removeClass("volume_button_low_normal"),ai.removeClass("volume_button_normal"),ai.removeClass("unmute_button_normal"),t.value>70?ai.addClass("volume_button_high_normal"):t.value>30?ai.addClass("volume_button_med_normal"):t.value>0?ai.addClass("volume_button_low_normal"):ai.addClass("unmute_button_normal"),E(t.value/100);try{localStorage.setItem("volume",t.value)}catch(i){}}});try{E(void 0==localStorage.getItem("volume")?100:localStorage.getItem("volume")/100)}catch(n){}}function K(){fi.show(Ei)}function Y(){-1!==Hi&&(clearTimeout(Hi),Hi=-1),fi.unbind("mouseenter"),fi.unbind("mouseleave"),fi.hide(Ei)}function Z(){Ji&&Ki&&($(this).removeClass("toc_off_button_normal"),$(this).addClass("toc_button_normal"),q(!1)),$("#hotspotContainer").hide(),TSC.playerConfiguration.getDebugHotspot()&&$("#hotspotContainerDebug").hide(),ci.show()}function j(e,t){Cn=!1,rn=!1,ci.hide(),li.css("visibility","visible"),N(),TSC.deviceInfo.isTouchInterface()||n(),TSC.mediaList.isPlaylist()||U(e),t&&(TSC.mediaList.isPlaylist()?(TSC.mediaList.setCurrentVideo(0),a(TSC.mediaList.currentVideoIndex()+1),Lt()):Bt[0].play()),$("#hotspotContainer").show(),TSC.playerConfiguration.getDebugHotspot()&&$("#hotspotContainerDebug").show(),TSC.xmp.hasCaptionItems()&&"under"===TSC.xmp.getCaptionPosition()&&(si.show(),mn=!1,v())}function X(){if(Math.floor(Bt[0].currentTime)<Math.floor(Bt[0].duration)){hi&&window.clearInterval(hi);var t=yn.getString("videoFailedToLoad");return(!TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid())&&(t=yn.getString("videoFailedToLoadUseFlash")),qt(void 0,t,!1),void 0}if(TSC.mediaList.isPlaylist()&&!TSC.mediaList.onLastVideo())Pi=!0,TSC.mediaList.setCurrentVideo("next"),a(TSC.mediaList.currentVideoIndex()+1),Lt();else{TSC.deviceInfo.isTouchInterface()||o(),Bt[0].pause(),Ht.removeClass("pause_normal"),Ht.addClass("play_normal"),setTimeout(mt,1e3);var i=!1,n=!0,r=!1,s=!0;if(void 0!=TSC.playerConfiguration.getEndActionType()){var u=TSC.playerConfiguration.getEndActionParam();switch(TSC.playerConfiguration.getEndActionType().toLowerCase()){case"loop":i="true"===u||"1"===u?!0:!1;break;case"stop":n="false"===u||"0"===u?!1:!0;break;case"jumptotime":r=!0;break;case"jumptotimeandstop":s=!1,r=!0;break;case"jumptourl":TSC.playerConfiguration.getTrackEvents()&&e("Video_Finished_Action",u),TSC.deviceInfo.isNuevoApp()?setTimeout(function(){window.open(""+u,"_parent")},500):window.open(""+u,"_parent");break;case"jumptourlnew":TSC.playerConfiguration.getTrackEvents()&&e("Video_Finished_Action",u),window.open(""+u,"_blank")}}i?j(0,!0):r?j(u/1e3,s):n?(Mi&&document.webkitCancelFullScreen(),TSC.deviceInfo.isTouchInterface()||pt(),gt(),Z(),TSC.xmp.hasCaptionItems()&&"under"===TSC.xmp.getCaptionPosition()&&(si.hide(),v())):rn=!0}}function et(){Li=!Li,Ai.hasClass("tscplayer_inline")?($("#fullscreen_enter_button").removeClass("fullframe_enter_button_normal"),$("#fullscreen_enter_button").addClass("fullframe_leave_button_normal"),Wi=window.parent.scrollY||window.top.pageYOffset,window.parent.scrollTo(0,0),$("html",window.parent.document).css("overflow","hidden"),TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()?ji?($("#searchBox").blur(),setTimeout(lt,100)):lt():(Ai.removeClass("tscplayer_inline"),Ai.attr("width","100%"),Ai.attr("height","100%"),Ai.addClass("tscplayer_fullframe"))):($("#fullscreen_enter_button").removeClass("fullframe_leave_button_normal"),$("#fullscreen_enter_button").addClass("fullframe_enter_button_normal"),$("html",window.parent.document).css("overflow","auto"),Ai.removeClass("tscplayer_fullframe"),Ai.removeAttr("width"),Ai.removeAttr("height"),Ai.addClass("tscplayer_inline"),(TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid())&&(clearTimeout(gn),st(),v()),window.top.scrollTo(0,Wi))}function tt(){$("#hotspotContainer").unbind("touchstart"),$("#hotspotContainer").unbind("touchmove"),$("#hotspotContainer").unbind("touchend"),$("#videoDiv").unbind("touchstart"),$("#videoDiv").unbind("touchmove"),$("#videoDiv").unbind("touchend"),ei.unbind("touchstart"),$("#videoSidebarContent ol li").die("touchstart"),$("#videoSidebarContent ol li").die("touchmove"),$("#videoSidebarContent ol li").die(on,D)}function it(){var e=!1;$("#hotspotContainer").bind("touchstart",function(){e=!1}),$("#hotspotContainer").bind("touchmove",function(){e=!0}),$("#hotspotContainer").bind("touchend",function(){e||(Xi?ft():gt()),e=!1}),$("#videoDiv").bind("touchstart",function(){e=!1}),$("#videoDiv").bind("touchmove",function(){e=!0}),$("#videoDiv").bind("touchend",function(){e||(Xi?ft():gt()),e=!1}),ei.bind("touchstart",V),$("#videoSidebarContent ol li").live("touchstart",function(){an=!1}),$("#videoSidebarContent ol li").live("touchmove",function(){an=!0}),$("#videoSidebarContent ol li").live(on,D)}function nt(){-1!==TSC.playerConfiguration.getAllowRewind()?_t.click(function(){rn=!1;var e=Number(Bt[0].currentTime)-TSC.playerConfiguration.getAllowRewind();U(Number(e))}):_t.hide(),Ht.click(function(e){Bt[0].paused?rn?rt():Bt[0].play():Bt[0].pause(),e.preventDefault()}),Wt.click(function(e){TSC.mediaList.onFirstVideo()||(TSC.mediaList.setCurrentVideo("previous"),a(TSC.mediaList.currentVideoIndex()+1),Lt()),e.preventDefault()}),Jt.click(function(e){TSC.mediaList.onLastVideo()||(TSC.mediaList.setCurrentVideo("next"),a(TSC.mediaList.currentVideoIndex()+1),Lt()),e.preventDefault()}),Bt.bind("play",function(){Ht.removeClass("play_button_normal"),Ht.addClass("pause_button_normal")}),Bt.bind("pause",function(){Ht.removeClass("pause_button_normal"),Ht.addClass("play_button_normal")}),Bt.bind("ended",function(){nn||(I(),TSC.playerConfiguration.getTrackEvents()&&(TSC.playerConfiguration.getAltEventCategoryAsFilename()?e("Video_Finished",hn):e("Video_Finished",""+TSC.mediaList.currentVideoSrc())))}),ci.click(function(){rt()}),z(),ai.mouseover(function(){-1!=Hi&&(clearTimeout(Hi),Hi=-1),K()}),ai.mouseout(function(){pi.length>0&&(fi.bind("mouseenter",function(){-1!=Hi&&(clearTimeout(Hi),Hi=-1)}),fi.bind("mouseleave",function(){Hi=setTimeout(function(){Y(),Hi=-1},1e3)}),-1!=Hi&&(clearTimeout(Hi),Hi=-1),Hi=setTimeout(function(){Y(),Hi=-1},1e3))}),ai.click(function(){var e;Bi=!Bi,Bi?(Ui=Bt[0].volume,e=0,pi.slider("value",[0])):(e=Ui,pi.slider("value",[100*Ui])),ai.removeClass("volume_button_high_normal"),ai.removeClass("volume_button_med_normal"),ai.removeClass("volume_button_low_normal"),ai.removeClass("volume_button_normal"),ai.removeClass("unmute_button_normal"),e>.7?ai.addClass("volume_button_high_normal"):e>.3?ai.addClass("volume_button_med_normal"):e>0?ai.addClass("volume_button_low_normal"):ai.addClass("unmute_button_normal"),E(e)}),gi.length>0?(J(gi,"horizontal"),fi.show()):J(pi,"vertical"),TSC.xmp.hasCaptionItems()&&("under"===TSC.xmp.getCaptionPosition()?(_i=!0,si.css("background",TSC.xmp.getCaptionBg()),si.css("padding","0"),si.addClass("captionUnderVideo"),C()):ui.click(function(){_i=!_i,_i?($(this).removeClass("closed_caption_off_button_normal"),$(this).addClass("closed_caption_button_normal"),si.removeClass("hide"),C()):($(this).removeClass("closed_caption_button_normal"),$(this).addClass("closed_caption_off_button_normal"),si.addClass("hide"))})),Zt.click(function(e){if(qi)et();else if(Mi)TSC.playerConfiguration.getIsSearchable()&&h(),document.webkitCancelFullScreen();else{var t=document.getElementById("tscVideoContent");TSC.deviceInfo.supportsFullScreenKeyboardInput()?t.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):(Ji&&TSC.playerConfiguration.getIsSearchable()&&($("#searchArea").hide(),$("#videoSidebarHead").append("<div id='fsSearchAlert'>"+yn.getString("searchDisabledFullScreen")+"</div>")),t.webkitRequestFullScreen())}e.preventDefault()}),Ji&&(jt.click(function(){Ki=!Ki,Ki?($(this).removeClass("toc_off_button_normal"),$(this).addClass("toc_button_normal")):($(this).removeClass("toc_button_normal"),$(this).addClass("toc_off_button_normal")),"none"===ri.css("display")?(q(!0),S()):q(!1)}),TSC.playerConfiguration.getSidebarEnabled()?(Ki=!0,jt.removeClass("toc_off_button_normal"),jt.addClass("toc_button_normal"),q(!0)):(jt.removeClass("toc_button_normal"),jt.addClass("toc_off_button_normal"))),TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()?($("textarea").live("blur",function(){fn=!1,it(),Li&&ut()}),$("textarea").live("focus",function(){fn=!0,tt(),Li&&st()}),$("input:text").live("blur",function(){fn=!1,it(),Li&&ut()}),$("input:text").live("focus",function(){fn=!0,tt(),Li&&st()}),window.parent.onorientationchange=function(){Li&&(ji?($("#searchBox").blur(),setTimeout(ct,500)):ct())}):n(),TSC.playerConfiguration.getDisableControls()&&gt()}function ot(t){!TSC.deviceInfo.isTouchInterface()&&TSC.playerConfiguration.getAutoHideControls()?dt():ft(),j(t,!0),TSC.playerConfiguration.getTrackEvents()&&(TSC.playerConfiguration.getAltEventCategoryAsFilename()?e("Video_Replay",hn):e("Video_Replay",""+TSC.mediaList.currentVideoSrc()))}function rt(){ot(0)}function at(){if(window.parent.scrollX>0||window.parent.scrollY>0)if(fn)window.parent.scrollTo(0,window.parent.scrollY);else{var e=window.parent.scrollY-50;window.parent.scrollTo(0,e)}gn=setTimeout(at,10)}function st(){$(document).unbind("touchmove"),$(document).unbind("gesturestart"),$(window.parent).unbind("gesturestart"),$(document).unbind("gestureend"),$(window.parent).unbind("gestureend")}function ut(){$(document).bind("touchmove",function(e){$.contains(Yt[0],e.target)||t()&&TSC.quizController.quizEnabled()&&TSC.quizController.viewOpen()||e.preventDefault()}),$(document).bind("gesturestart",function(e){e.preventDefault()}),$(window.parent).bind("gesturestart",function(e){e.preventDefault()}),$(document).bind("gestureend",function(){et()}),$(window.parent).bind("gestureend",function(){et()})}function lt(){at(),ut(),Ai.removeClass("tscplayer_inline"),Ai.attr("width",window.parent.innerWidth),Ai.attr("height",window.parent.innerHeight),Ai.addClass("tscplayer_fullframe"),v()}function ct(){window!=window.top?window.parent.scrollTo(0,0):window.scrollTo(0,0),Ai.attr("width",window.parent.innerWidth),Ai.attr("height",window.parent.innerHeight),v()}function dt(){if(!(TSC.deviceInfo.isTouchInterface()||TSC.xmp.hasCaptionItems()&&"under"===TSC.xmp.getCaptionPosition())){$($t).hover(ft,gt);var e=null;$($t).bind("mousemove",function(t){(null==e||e.pageX!=t.pageX&&e.pageY!=t.pageY)&&(e=t,ft(!0))}),St()}}function pt(){window.clearTimeout(en),$($t).unbind("mousemove"),$($t).unbind("mouseenter mouseleave")}function gt(){Ct(!1),ji||nn||(Xi=!0,ti.stop(!0,!0),ti.fadeOut(Ii),Ki&&(ri.stop(!0,!0),ri.fadeOut(Ii)),-1!==Hi&&Y())}function ft(e){TSC.playerConfiguration.getDisableControls()||(Xi&&(Xi=!1,ti.stop(!0,!0),ti.fadeIn(Ii),Ki?(ri.stop(!0,!0),ri.fadeIn(Ii)):Ct(!0),e&&_(),Pi&&(Pi=!1,v())),e&&St())}function Ct(e){TSC.deviceInfo.isNuevoApp()&&(document.location=e?"nuevo://shownavbar":"nuevo://hidenavbar")}function mt(){if(TSC.deviceInfo.isNuevoApp()){var e=document.location;document.location="nuevo://hasPlayedToEnd?url="+e}}function St(){window.clearTimeout(en),en=window.setTimeout(gt,tn)}function vt(t){var i=TSC.xmp.getHotspotItemArray(),n=Number($(t.target).attr("hotspot_index"));if(void 0!==i[n].jumpFile){var o=TSC.mediaList.getVideoIndexBySrc(i[n].jumpFile);TSC.mediaList.setCurrentVideo(o),a(TSC.mediaList.currentVideoIndex()+1),Lt()}else if(""!==i[n].jumpTime)rn=!1,N(),U(Number(i[n].jumpTime)),Bt[0].play();else if(""!==i[n].targetURL){TSC.playerConfiguration.getTrackEvents()&&e("Hotspot_Action",i[n].targetURL);var r="_parent";void 0!==i[n].newWindow&&i[n].newWindow===!0&&(r="_blank"),window.open(i[n].targetURL,r)}else Bt[0].play()}function Tt(){var e=Math.round(Number(TSC.xmp.getCaptionFontSize())*sn);e=TSC.xmp.getMinCaptionFontSize()>e?TSC.xmp.getMinCaptionFontSize():e,e=e>TSC.xmp.getMaxCaptionFontSize()?TSC.xmp.getMaxCaptionFontSize():e,$("#currentCaption").css("font-size",e)}function ht(){TSC.videoAnalytics.isEnabled()&&(TSC.videoAnalytics.setVideoLoadEndTime((new Date).getTime()),TSC.playerConfiguration.getTrackEvents()&&(TSC.playerConfiguration.getAltEventCategoryAsFilename()?TSC.playerConfiguration.getAltLoadTimeAsSeconds()?e("Video_Loading_Time_In_Seconds",hn,TSC.videoAnalytics.getVideoLoadTime()/1e3):e("Video_Loading_Time",hn,TSC.videoAnalytics.getVideoLoadTime()):TSC.playerConfiguration.getAltLoadTimeAsSeconds()?e("Video_Loading_Time_In_Seconds",""+TSC.mediaList.currentVideoSrc(),TSC.videoAnalytics.getVideoLoadTime()/1e3):e("Video_Loading_Time",""+TSC.mediaList.currentVideoSrc(),TSC.videoAnalytics.getVideoLoadTime()))),Ri=!0}function At(){Fi=!0}function bt(){Fi=!1,Gi>-1&&(U(Gi),Gi=-1)}function yt(){if($("#videoClickToPlay").hide(),Bt.unbind("playing"),TSC.playerConfiguration.getScormStartPt()){var e=TSC.playerConfiguration.getScormStartPt();Bt[0].duration>e&&U(Number(e),!0)}if(TSC.playerConfiguration.getURLParams().t){var t=zt(TSC.playerConfiguration.getURLParams().t);Bt[0].duration>t&&U(Number(t),!0)}TSC.playerConfiguration.getDebugUIMode()&&Ut&&Ut.call(this)}function wt(){TSC.xmp.hasHotspotItems()&&TSC.playerConfiguration.getDebugHotspot()&&$("#hotspotContainerDebug").css("display","block"),TSC.xmp.hasCaptionItems()&&($("#currentCaption").css("font-family",TSC.xmp.getCaptionFontFamily()),$("#currentCaption").css("color",TSC.xmp.getCaptionTextColor()),Tt(),_i=TSC.playerConfiguration.getCaptionsEnabled()),(TSC.playerConfiguration.getTrackEvents()||TSC.xmp.hasCaptionItems()||TSC.xmp.hasHotspotItems()||t()&&TSC.quizController.quizEnabled()||TSC.playerConfiguration.getReportScormComplete())&&Bt.bind("timeupdate",I)}function It(e,t,i,n,o){i||(i=TSC.playerConfiguration.getPlayerWidth()),n||(n=TSC.playerConfiguration.getPlayerHeight()),o||(o=!1);var r='<video width="'+i+'" height="'+n+'"';o&&TSC.playerConfiguration.getPosterImageSrc()&&(r+=' poster="'+TSC.playerConfiguration.getPosterImageSrc()+'"'),t&&(r+=" controls"),TSC.deviceInfo.isNuevoApp()&&(r+=" webkit-playsinline"),r+=">";for(var a=e.length,s=0;a>s;s++){var u=TSC.playerConfiguration.getUnicodeSafeString(e[s]);r+='<source src="'+u+'" type="'+TSC.mediaList.getMediaMimeType(e[s])+'" />'}return r+=TSC.playerConfiguration.getUnableToDisplayContentString()+"</video>"}function Et(e){if(bn.viewOpen())bn.setViewMessage(e);else{var t=bn.getViewMarkup(e);$($t).append(t),bn.showView()}}function xt(){bn.viewOpen()&&bn.removeView()}function Nt(){$("#videoClickToPlay").hide(),TSC.quizController.init(TSC.playerConfiguration.getEnforceLinearAssessment())}function Mt(){var e=It(TSC.mediaList.currentVideoSrc(),!1);if($("#videoDiv").html(e),Bt=$("video"),Bt[0].addEventListener("loadedmetadata",b,!1),Bt.bind("playing",yt),Bt.bind("canplay",ht),Bt.bind("seeking",At),Bt.bind("seeked",bt),$("#videoWrapper").show(),wt(),nt(),Ji&&Q(),t()&&TSC.quizController.quizEnabled()){var i=$("<div/>");i.addClass("quizMarker"),$($t).append(i),TSC.quizMarker.setSize($(".quizMarker").css("width").replace(/px/g,"")),TSC.quizMarker.setColor($(".quizMarker").css("color")),$("#markers").show()}Pi=!0,v(),Ot&&Ot.call(),ti.hide(),Et(yn.getString("videoLoading")),Lt()}function Lt(){Cn=!1,rn=!1,TSC.mediaList.isPlaylist()&&(TSC.mediaList.onFirstVideo()?(Wt.removeClass("previous_button_normal"),Wt.addClass("previous_button_disabled")):(Wt.addClass("previous_button_normal"),Wt.removeClass("previous_button_disabled")),TSC.mediaList.onLastVideo()?(Jt.removeClass("next_button_normal"),Jt.addClass("next_button_disabled")):(Jt.addClass("next_button_normal"),Jt.removeClass("next_button_disabled")),TSC.videoAnalytics.isEnabled()&&(TSC.videoAnalytics.clearPercentWatched(),vn=0),Bt[0].src=TSC.mediaList.currentVideoSrc()),TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()?Bt[0].play():(Bt[0].load(),Bt[0].play()),TSC.videoAnalytics.isEnabled()&&TSC.videoAnalytics.setVideoLoadStartTime((new Date).getTime()),TSC.playerConfiguration.getTrackEvents()&&Sn&&(Sn=!1,TSC.playerConfiguration.getAltEventCategoryAsFilename()?e("Video_Started",hn):e("Video_Started",""+TSC.mediaList.currentVideoSrc()),e("Video_Percent_Viewed","Viewed: 0 Percent"))}function Rt(e){switch(e.type){case"COMPLETE":case"REVIEW":if(ri&&Ki?q(!0):Ct(!0),TSC.deviceInfo.isTouchInterface()||(n(),TSC.playerConfiguration.getAutoHideControls()&&dt()),m(),"REVIEW"===e.type&&TSC.playerConfiguration.getEnforceLinearAssessment()){var t=TSC.quizController.findPrevMarkerTimeForMarker(un);un=-1,U(t/1e3),Bt[0].play()}else Bt[0].play();break;case"BEGIN":case"SKIP":TSC.quizController.setViewContainer("#videoWrapper"),$("#videoClickToPlayLink").unbind("click",Nt),Bt?pn&&TSC.quizController.getQuizReady()&&(A(),Bt[0].play(),Pi=!0,v()):Mt();break;case"ERROR":Bt||Mt(),qt("#videoWrapper",TSC.localizationStrings.getString("txtErrorMessage"),!0);break;case"STATUS":Et(e.message);break;case"SUBMITTED":xt()}}function Pt(e,i){$t=e,Ji=i,$($t).html(wn),$($t).css("background-color",TSC.playerConfiguration.getBackgroundColor()),TSC.playerConfiguration.getPosterImageSrc()&&r(TSC.playerConfiguration.getPosterImageSrc()),$($t).fadeIn(Ii),$("#videoClickToPlay").fadeIn(Ii),_t=$("#rewind"),Ht=$("#play"),Wt=$("#previous"),Jt=$("#next"),Xt=$("#progress"),ei=$("#progress_box"),ti=$("#controls"),ii=$("#play_progress"),ni=$("#current_time_display"),oi=$("#duration_display"),ri=$("#videoSidebar"),ai=$("#volume"),si=$("#currentCaption"),ui=$("#closedCaptionButton"),li=$("#videoWrapper"),ci=$("#videoClickToReplay"),di=$("#searchBox"),Kt=$("#clearSearchButton"),Yt=$("#tableOfContentsList"),Zt=$("#fullscreen_enter_button"),jt=$("#tocButton"),pi=$("#volume_slider_vertical"),gi=$("#volume_slider_horizontal"),fi=$("#volume_slider_container"),Ci=$("#scrubbar_scrubber"),(TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid())&&(ai.hide(),Zt.hide()),Ji&&jt.show(),TSC.xmp.hasCaptionItems()&&("under"===TSC.xmp.getCaptionPosition()?TSC.playerConfiguration.setAutoHideControls(!1):ui.show()),TSC.mediaList.isPlaylist()||(Wt.hide(),Jt.hide()),v(),$(window).resize(function(){Pi=!0,v()}),di.focus(function(){ji=!0,di.val()==yn.getString("search")&&di.val(""),TSC.deviceInfo.isTouchInterface()||(o(),window.clearTimeout(en))}),di.blur(function(){ji=!1,""===di.val().replace(/ /g,"")&&di.val(yn.getString("search")),TSC.deviceInfo.isTouchInterface()||(n(),TSC.playerConfiguration.getAutoHideControls()&&St())}),di.val(yn.getString("search"));var a=TSC.deviceInfo.isIPad()&&!TSC.deviceInfo.isNuevoApp();if((a||TSC.deviceInfo.isAndroid()||t()&&TSC.quizController.quizEnabled())&&!TSC.playerConfiguration.getMobileWebViewCanAutoPlay()&&TSC.playerConfiguration.setAutoPlayMedia(!1),TSC.playerConfiguration.getAutoPlayMedia()===!0?setTimeout(Mt,80):t()&&TSC.quizController.quizEnabled()?$("#videoClickToPlayLink").bind("click",Nt):$("#videoClickToPlayLink").bind("click",Mt),t()&&TSC.quizController.quizEnabled()){TSC.quizController.setViewContainer($t);var s;s=TSC.playerConfiguration.getFathomId()?TSC.fathomGrader:TSC.xmpGrader,TSC.quizController.setQuestionGrader(s),TSC.quizController.setQuestionData(TSC.quizModel),TSC.quizController.setViewControlBarOffset(ti.height()),TSC.quizController.addEventListener("COMPLETE",Rt),TSC.quizController.addEventListener("REVIEW",Rt),TSC.quizController.addEventListener("BEGIN",Rt),TSC.quizController.addEventListener("SKIP",Rt),TSC.quizController.addEventListener("ERROR",Rt),TSC.quizController.addEventListener("STATUS",Rt),TSC.quizController.addEventListener("SUBMITTED",Rt),TSC.playerConfiguration.getURLParams().t&&setTimeout(Nt,80)}else TSC.playerConfiguration.getURLParams().t&&setTimeout(Mt,80);(TSC.playerConfiguration.getTrackEvents()||TSC.playerConfiguration.getReportScormComplete()||t()&&TSC.quizController.quizEnabled())&&(TSC.videoAnalytics.setEnabled(!0),TSC.xmp.xmpAvailable()&&TSC.videoAnalytics.initPercentWatched(TSC.xmp.getMediaDuration())),bi=!0,TSC.playerConfiguration.getDebugUIMode()&&Gt&&Gt.call(this)}function kt(e){var t={};t.src=TSC.playerConfiguration.getUnicodeSafeString(TSC.playerConfiguration.getMediaSrc());var i=location.href.lastIndexOf("/"),n=location.href.substr(0,i+1);TSC.playerConfiguration.getXMPSrc()&&(t.xmp=TSC.playerConfiguration.getXMPSrc(),TSC.playerConfiguration.isIEOnServerWithUnicode()&&(t.xmp=TSC.playerConfiguration.getUnicodeSafeString(n)+t.xmp)),TSC.playerConfiguration.getAutoPlayMedia()&&(t.autoPlayJS=TSC.playerConfiguration.getAutoPlayMedia()),-1!==TSC.playerConfiguration.getAllowRewind()&&(t.allowRewind=TSC.playerConfiguration.getAllowRewind()),TSC.playerConfiguration.getConfigurationSrc()&&(t.configuration=TSC.playerConfiguration.getConfigurationSrc()),t.debugHotspots=TSC.playerConfiguration.getDebugHotspot(),TSC.playerConfiguration.getPosterImageSrc()&&(t.poster=TSC.playerConfiguration.getPosterImageSrc(),TSC.playerConfiguration.isIEOnServerWithUnicode()&&(t.poster=TSC.playerConfiguration.getUnicodeSafeString(n)+t.poster)),t.authoredLanguage=yn.getLanguage(),TSC.playerConfiguration.getFathomId()&&(t.fathomId=TSC.playerConfiguration.getFathomId(),t.fathomEnvironmentId=TSC.fathomService.getEnvironment()),TSC.playerConfiguration.getGoogleAnalyticsID()&&""!=TSC.playerConfiguration.getGoogleAnalyticsID()&&(t.analytics=TSC.playerConfiguration.getGoogleAnalyticsID(),TSC.playerConfiguration.getGAEventTracking()||(t.trackEvents=!1),TSC.playerConfiguration.getGAPageViewTracking()||(t.trackPageViews=!1)),TSC.playerConfiguration.getCustomEventTracking()&&(t.customEventTracking=!0,t.customEventJSCallback=TSC.playerConfiguration.getCustomEventCallback().name),t.altEventCategoryAsFilename=TSC.playerConfiguration.getAltEventCategoryAsFilename(),t.altLoadTimeAsSeconds=TSC.playerConfiguration.getAltLoadTimeAsSeconds(),t.debugUI=TSC.playerConfiguration.getDebugUIMode(),t.advancedSeeking=TSC.playerConfiguration.getAdvancedSeeking(),t.enforceLinearAssessments=TSC.playerConfiguration.getEnforceLinearAssessment(),t.scormComplete=TSC.playerConfiguration.getReportScormComplete(),t.hostingPage=TSC.playerConfiguration.getUnicodeSafeString(document.location),t.initialSeekTime=TSC.playerConfiguration.getScormStartPt();var o=TSC.playerConfiguration.getMinFlashPlayerVersion(),r={};r.quality="high",r.bgcolor="#000000",r.allowscriptaccess="always",r.allowfullscreen="true",r.wmode="direct",r.allowNetworking="all","."!==TSC.playerConfiguration.getSwfBase()&&(r.base=TSC.playerConfiguration.getSwfBase());var a={};a.id="tscplayer",a.name="tscplayer",a.align="middle";var s=TSC.playerConfiguration.getUnicodeSafeString(TSC.playerConfiguration.getFlashPlayerSwf());if(TSC.playerConfiguration.isIEOnServerWithUnicode()){var i=location.href.lastIndexOf("/"),n=location.href.substr(0,i+1);s=TSC.playerConfiguration.getUnicodeSafeString(n)+s}swfobject.embedSWF(s,e.replace(/#/,""),TSC.playerConfiguration.getPlayerWidth(),TSC.playerConfiguration.getPlayerHeight(),o,TSC.playerConfiguration.getFlashUpdateBootstrapSwf(),t,r,a),swfobject.createCSS(e,"display:block;text-align:left;"),$(e).show()}function qt(e,t,i){t="<span>"+t+"</span>",i&&(t+="<h4>"+yn.getString("clickToClose")+"</h4>"),bi?($("#alertDialog").html(t),$("#alertDialog").fadeIn(Ii)):($(e).css("background-color",TSC.playerConfiguration.getBackgroundColor()),$(e).css("height","100%"),$(e).html('<div id="alertDialog">'+t+"</div>"),$(e).fadeIn(Ii),$("#alertDialog").show()),i&&$("#alertDialog").bind("click",function(){$("#alertDialog").hide(),$("#alertDialog").unbind("click")})}function Dt(){var e="#000";TSC.playerConfiguration.getPosterImageSrc()&&(e+=" url("+TSC.playerConfiguration.getPosterImageSrc()+") center no-repeat"),$(".appplayer").css({background:e,position:"relative","border-radius":"5px","background-size":"cover",height:"100%","z-index":"1"})}function Qt(){var e='<div class="appplayer">                <div class="posterFade">                    <div class="topBrdr"><div class="topBrdrInner"></div></div>                    <div class="content">                        <h2>'+yn.getString("playWithSmartPlayer")+'</h2>                        <a class="appNuevoPlayBtn"></a>                        <a href="" class="appstoreBtn"></a>                    </div>                    <a class="appNativePlayBtn">                       <div class="appNativePlayBtnText">'+yn.getString("playVideoOnly")+'</div>                    </a>                    <div class="btmBrdr"><div class="btmBrdrInner"></div></div>                </div>            </div>';return e}function Vt(e){TSC.mediaPlayer.isNuevoAppCapableAndAvailable()?($(e).after(Qt()),Dt(),$(".appplayer").show(),$(e).hide(),$(".appNuevoPlayBtn").click(function(){$(".appplayer").hide(),$(e).show(),TSC.mediaPlayer.redirectToiPhoneApp()}),$(".appNativePlayBtn").click(function(){$(".appplayer").hide(),$(e).show(),Bt=$("video"),Bt[0].play()}),$(".appstoreBtn").click(function(){TSC.mediaPlayer.redirectToiPhoneAppDownload()}),Ai&&""!==Ai&&(Ai.removeClass(wi),Ai.css("width","500px"),Ai.css("height","334px"))):$(e).fadeIn(Ii)}function zt(e){if(isNaN(e)){var t=0,i=0,n=0,o=e.toLowerCase(),r=RegExp("(\\d+[h])","g"),a=RegExp("(\\d+[m])","g"),s=RegExp("(\\d+[s])","g"),u=RegExp("\\d+","g"),l=o.match(r),c=o.match(a),d=o.match(s),p=o.match(u);return d||c||l?(l&&(t=60*60*Number(l[0].split("h").join(""))),c&&(i=60*Number(c[0].split("m").join(""))),d&&(n=Number(d[0].split("s").join(""))),Number(t+i+n)):p?n=Number(p[0]):0}return 0>e&&(e=0),e}var $t,Ot,Ft,Gt,Ut,Bt,_t,Ht,Wt,Jt,Kt,Yt,Zt,jt,Xt,ei,ti,ii,ni,oi,ri,ai,si,ui,li,ci,di,pi,gi,fi,Ci,mi,Si,vi,Ti,hi,Ai,bi=!1,yi="#tscplayer",wi="embeddedObject",Ii=300,Ei=100,xi=-1,Ni=-1,Mi=!1,Li=!1,Ri=!1,Pi=!1,ki=5,qi=!1,Di=!1,Qi=0,Vi=0,zi=0,$i=0,Oi=0,Fi=!1,Gi=-1,Ui=1,Bi=!1,_i=!1,Hi=-1,Wi=0,Ji=!1,Ki=!1,Yi=250,Zi=1,ji=!1,Xi=!1,en=-1,tn=5e3,nn=!1,on="click",rn=!1,an=!1,sn=1,un=-1,ln=-1,cn=0,dn=0,pn=!1,gn=-1,fn=!1,Cn=!1,mn=!1,Sn=!0,vn=0,Tn=10,hn="HTML5-Video",An=32,bn=TSC.ioOverlayView,yn=TSC.localizationStrings,wn='<a id="videoClickToPlayLink"><table id="videoClickToPlay" class="videoDimensions centeredImage"><tr><td><div id="ctoplay" class="spritesheet play_button_overlay_normal" /></td></tr></table></a><a id="videoClickToReplayLink"><table id="videoClickToReplay" class="videoDimensions centeredImage"><tr><td><div id="ctoplay" class="spritesheet replay_button_overlay_normal" /></td></tr></table></a><div id="videoWrapper" class="videoDimensions"><canvas id="hotspotContainerDebug" width="1" height="1" ></canvas><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUZFRTQ3RTgzQjlFMTFFMUE1QzU4ODA1ODE4NzA1RTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUZFRTQ3RTkzQjlFMTFFMUE1QzU4ODA1ODE4NzA1RTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBRkVFNDdFNjNCOUUxMUUxQTVDNTg4MDU4MTg3MDVFMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBRkVFNDdFNzNCOUUxMUUxQTVDNTg4MDU4MTg3MDVFMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuQAJiQAAAAXSURBVHjaYvz//z8DOmBiwAIoFAQIMAA2UAMHLJ+dVwAAAABJRU5ErkJggg%3D%3D" id="hotspotContainer" usemap="#hotspotMap" width="1" height="1" /><div id="videoSidebar"><div id="videoSidebarHead"><div id="searchArea"><input id="searchBox" value="Search..." /><span id="clearSearchButton" ></span></div></div><div id="videoSidebarContentWrapper"> <div id="videoSidebarContent"> <ol id="tableOfContentsList"> </ol> </div> </div> </div> <div id="videoDiv"></div><div id="volume_slider_container" class="spritesheet volumebar_backdrop"><div id="volume_slider_vertical"></div></div><div id="controls" class="spritesheet sprite_repeat control_backdrop"> <div id="rewind" class="spritesheet rewind_button_normal bitmap_control"><span></span> </div><div id="play" class="spritesheet play_button_normal bitmap_control"><span></span> </div><div id="previous" class="spritesheet previous_button_disabled bitmap_control"><span></span> </div><div id="next" class="spritesheet next_button_normal bitmap_control"><span></span> </div><div id="progress" class="bitmap_control"><div id="progress_box"><span id="progress_scrubbar_track_left" class="spritesheet scrubbar_track_left"></span><span id="progress_scrubbar_track" class="spritesheet sprite_repeat scrubbar_track"><span id="load_progress" class="spritesheet sprite_repeat scrubbar_loaded_track"><span id="play_progress" class="spritesheet sprite_repeat scrubbar_played_track"></span></span></span> <span id="progress_scrubbar_track_right" class="spritesheet scrubbar_track_right"></span><canvas id="markers"></canvas><span id="scrubbar_scrubber" class="spritesheet scrubbar_scrubber_normal"></span> </div><div class="spritesheet seperator bitmap_control"></div><div id="play_time"> <span id="current_time_display">00:00</span> / <span id="duration_display">00:00</span> </div> </div><div id="volume" class="spritesheet volume_button_normal bitmap_control"></div><div id="closedCaptionButton" class="spritesheet closed_caption_button_normal bitmap_control"></div><div id="tocButton" class="spritesheet toc_button_normal bitmap_control"></div><div id="fullscreen_enter_button" class="bitmap_control spritesheet fullscreen_enter_button_normal"></div></div><div id="currentCaption" class="hide"></div><div id="alertDialog"></div></div><div id="captions"></div><div id="screenText"></div><div id="speechText"></div><map name="hotspotMap" id="hotspotMap"></map>';return{initHtml5View:function(e,t){Ai=TSC.playerConfiguration.getFrameElement(),Pt(e,t)},initSimpleHtml5View:function(e){if(Ai=TSC.playerConfiguration.getFrameElement(),TSC.mediaList.isPlaylist()){var t=$(window).innerWidth()-20;Ai&&""!==Ai&&(Ai.addClass("tscplayer_fullframe"),Ai.css("width",$(window.parent).innerWidth()),Ai.css("height","100%"),t=$(window.parent).innerWidth()-20);for(var i=TSC.mediaList.getMediaList(),n=i.length,o="<ol>",r=0;n>r;r++)o+="<li>"+It([i[r]],!0,t,75,!0)+"</li>";o+="</ol>",$(e).html(o),$(e).css("background-color","#ffffff"),$("body").css("overflow","auto"),$(e).css("overflow","auto"),$(e+" ol").css("list-style","none"),$(e+" ol").css("margin","10px"),$(e+" ol").css("padding","0")}else if($(e).html(It(TSC.mediaList.currentVideoSrc(),!0,void 0,void 0,!0)),window!=window.top&&TSC.playerConfiguration.getIframeCommunicationsEnabled()){var a=$(window.parent).innerWidth()-40,s=1.33333333333333*a;Ai.css("width",a),Ai.css("height",s)}Vt(e)},initFlashView:function(e){Ai=TSC.playerConfiguration.getFrameElement(),kt(e)},getFlashId:function(){return yi},jsSeekTime:function(e){if(bi)if(Bt)Bt[0].duration&&Bt[0].duration>e&&(mn?ot(e):(!t()||t()&&!TSC.quizController.viewOpen())&&U(e,!0));else{var i={};i.t=e,TSC.playerConfiguration.setURLParams(i),t()&&TSC.quizController.quizEnabled()?TSC.quizController.viewOpen()||setTimeout(Nt,80):setTimeout(Mt,80)}else{var n=$(yi);n[0].jsSeekTime(e)}},jsPlay:function(){if(bi)Bt?mn?ot(0):Bt[0].play():t()&&TSC.quizController.quizEnabled()?TSC.quizController.viewOpen()||setTimeout(Nt,80):setTimeout(Mt,80);
else{var e=$(yi);e[0].jsPlay()}},jsDebugUI:function(){var e=$(yi);!bi&&e&&e[0].jsDebugUI(!0)},displayMessagePanel:function(e,t){qt(e,t,!0)},addEventListener:function(e,t){"VIDEO_START"===e?Ot=t:"CAPTION_CHANGE"===e?Ft=t:"READY"===e?Gt=t:"VIDEO_PLAY"===e&&(Ut=t)},removeEventListener:function(e){"VIDEO_START"===e?Ot=void 0:"CAPTION_CHANGE"===e?Ft=void 0:"READY"===e?Gt=void 0:"VIDEO_PLAY"===e&&(Ut=void 0)}}}();var TSC=TSC||{};TSC.xmp=function(){"use strict";function e(){C=!1,m=!1,S=!1,v=!1,T=!1,h=!1,A=!1,q=!1,D="",Q=0,V="en-US",z="#ffffff",O="#000000",F=.9,G="Arial, Helvetica, sans-serif;",U=18,B={r:255,g:255,b:255},_="overlay",H=0,W=2,J=144,K=[],Y=[],Z=[],j=[],X=[]}function t(){f&&f.call()}function i(e,t,i){for(var n=(e<<16|t<<8|i).toString(16),o=6-n.length,r=0;o>r;r++)n="0"+n;return"#"+n}function n(e){$(e).find("*").filterNode("rdf:Description").each(function(){var e=Number($(this).attr("xmpDM:startTime"))/1e3,t=TSC.playerConfiguration.getUnicodeSafeString($(this).attr("tscDM:file")),i=$(this).attr("xmpDM:name"),n=$(this).attr("tscDM:image"),o=$(this).attr("tscDM:imagerect");o&&!q&&(q=!0,D="."!==TSC.playerConfiguration.getSwfBase()?TSC.playerConfiguration.getSwfBase()+TSC.playerConfiguration.getUnicodeSafeString(n):TSC.playerConfiguration.getUnicodeSafeString(n));var r={time:e,text:i,file:t,image:n,imageRect:o};K.push(r)})}function o(e){var t=$(e).find("*").length,n=e.find("*").eq(t-2);if(n&&n.length>0&&"tsc:fgColor"===n[0].nodeName){var o=n.attr("xmpG:red"),r=n.attr("xmpG:green"),a=n.attr("xmpG:blue");z=i(o,r,a)}var s=e.find("*").eq(t-1);s&&s.length>0&&"tsc:bgColor"===s[0].nodeName&&(B.r=s.attr("xmpG:red"),B.g=s.attr("xmpG:green"),B.b=s.attr("xmpG:blue"),O=i(B.r,B.g,B.b)),$(e).find("*").filterNode("rdf:Description").each(function(){var e,t,i=Number($(this).attr("xmpDM:startTime"))/1e3,n=Number($(this).attr("xmpDM:duration"))/1e3,o=i+n,r=$(this).find("*").filterNode("rdf:li").text(),a=TSC.textFormatter.rtfToText(r),s=$(this).attr("tscDM:valign"),u=$(this).attr("tscDM:halign");switch(s){case"top":e="captionVAlignTop";break;default:e="captionVAlignBottom"}switch(u){case"left":t="captionHAlignLeft";break;case"right":t="captionHAlignRight";break;default:t="captionHAlignCenter"}r=TSC.textFormatter.rtfToHTML(r);var l=TSC.playerConfiguration.getUnicodeSafeString($(this).attr("tscDM:file"));if(""!==a.replace(/ /g,"")){var c={start:i,end:o,text:a,htmlText:r,file:l,vAlign:s,vAlignClass:e,hAlignClass:t};Y.push(c)}})}function r(e,t){for(var i=[],n=Number(e[4])-Number(e[0]),o=Number(e[5])-Number(e[1]),r=n/2+Number(e[0]),s=o/2+Number(e[1]),u=e.length,l=0;u>l;l+=2){var c=a(Number(e[l]),Number(e[l+1]),n,o,r,s,t);i.push(Number(c[0])),i.push(Number(c[1]))}return i}function a(e,t,i,n,o,r,a){a=a*Math.PI/180;var s=e-o,u=t-r,l=Math.atan2(u,s),c=Math.sqrt(s*s+u*u),d=l+a,p=Math.cos(d)*c,g=Math.sin(d)*c,f=[];return f[0]=p+o,f[1]=g+r,f}function s(e){$(e).find("*").filterNode("rdf:Description").each(function(){var e=$(this).attr("xmp:label"),t=Number($(this).attr("xmpDM:startTime"))/1e3,i=Number($(this).attr("xmpDM:duration"))/1e3,n=t+i,o=$(this).attr("tscDM:boundingPoly"),a=$(this).attr("tscDM:rotate"),s=TSC.playerConfiguration.getUnicodeSafeString($(this).attr("tscHS:jumpFile")),u=o.replace(/\;/gi,",");u.lastIndexOf(",")==u.length-1&&(u=u.substr(0,u.length-1));var l=u.split(",");0!==a&&(l=r(l,a));var c=!1,d="",p="",g="";"1"===$(this).attr("tscHS:pause")&&(c=!0),void 0!==$(this).attr("tscHS:jumpTime")&&(d=Number($(this).attr("tscHS:jumpTime"))/1e3),void 0!==$(this).attr("tscHS:newWindow")&&(p=$(this).attr("tscHS:newWindow"),p="0"===p||"false"===p.toLowerCase()?!1:!0),void 0!==$(this).attr("xmpDM:location")&&(g=$(this).attr("xmpDM:location"));var f=TSC.playerConfiguration.getUnicodeSafeString($(this).attr("tscDM:file")),C={id:e,start:t,end:n,pause:c,hasPaused:!1,points:l,scaledPoints:l.concat([]),rotation:a,file:f,jumpTime:d,jumpFile:s,newWindow:p,targetURL:g,isActive:!1};Z.push(C)})}function u(e){var t,i,n,o,r,a,s,u,l=-1,c=!1,d=[];TSC.quizModel.clearAllQuestions(),$(e).find("*").filterNode("rdf:Description").each(function(){var e=$(this).attr("tscIQ:questionSetName");if(e){e=TSC.textSanitizer.htmlEncode(e),c&&(TSC.quizModel.addQuestion(l,t,n,o,d,a),c=!1,o=void 0,n=void 0,d=[],a=void 0);var p="1"===$(this).attr("tscIQ:feedback"),g=Number($(this).attr("xmpDM:startTime"));l=TSC.quizModel.addQuestionSet(e,g,p)}else i=$(this).attr("tscIQ:type"),i?(c&&(TSC.quizModel.addQuestion(l,t,n,o,d,a),c=!1,c=!1,o=void 0,n=void 0,d=[],a=void 0),n=$(this).attr("tscIQ:id"),t=i,s=$(this).children(),o=TSC.textSanitizer.htmlEncode($(s[0]).text(),!0),a=TSC.textSanitizer.htmlEncode($(s[1]).text(),!0),c=!0):(r=$(this).attr("tscIQ:orderId"),r&&(s=$(this).children(),u=$(s[0]).text(),u&&d.push(TSC.textSanitizer.htmlEncode(u,!0))))}),c&&TSC.quizModel.addQuestion(l,t,n,o,d,a)}function l(e){var t=[];$(e).find("*").filterNode("rdf:Description").each(function(){var e=Number($(this).attr("xmpDM:startTime"))/1e3,i=Number($(this).attr("xmpDM:duration"))/1e3,n=$(this).attr("xmpDM:name"),o=TSC.playerConfiguration.getUnicodeSafeString($(this).attr("tscDM:file")),r={start:e,end:Number(e)+Number(i)+"",text:n,file:o};t.push(r)});var i=t.length;if(!(1>i)){for(var n,o=t[0].start,r="",a=[],s=0;i>s;s++)t[s].start!==o&&(n={start:t[s-1].start,end:t[s-1].end,text:r,items:a,file:t[s-1].file},j.push(n),r="",a=[]),r+=t[s].text+" ",a.push(t[s].text),o=t[s].start;n={start:t[s-1].start,end:t[s-1].end,text:r,items:a,file:t[s-1].file},j.push(n)}}function c(e){var t=[];$(e).find("*").filterNode("rdf:Description").each(function(){var e=Number($(this).attr("xmpDM:startTime"))/1e3,i=Number($(this).attr("xmpDM:duration"))/1e3,n=$(this).attr("xmpDM:name"),o=TSC.playerConfiguration.getUnicodeSafeString($(this).attr("tscDM:file")),r={start:e,end:Number(e)+Number(i)+"",text:n,file:o};t.push(r)});var i=t.length;if(!(1>i)){for(var n=t[0].start,o=n,r="",a=[],s=0;i>s;s++){if(t[s].start-n>2.5){var u={start:o,end:t[s-1].end,text:r,items:a,file:t[s-1].file};o=t[s].start,t.push(u),r="",a=[]}r+=t[s].text+" ",a.push(t[s].text),n=t[s].start}var l={start:o,end:t[i-1].end,text:r,items:a,file:t[i-1].file};X.push(l)}}function d(){C&&n(x),m&&o(N),v&&u(L),S&&s(M),T&&l(E),h&&c(I),A=!0,g&&g.call()}function p(t){e();var i=$(t).find("*").eq(2);b=i.attr("dc:title"),w=i.attr("tscDM:originId"),y=i.attr("tscDM:project"),Q=Number($(t).find("*").eq(3).attr("xmpDM:value")),R=b;var n,o,r=$(t).find("*").length,a=0;for(n=4;r>n;n++)if("xmpDM:Tracks"===$(t).find("*").eq(n)[0].nodeName){o=$(t).find("*").eq(n).children();break}for(var s,u=$(o).find("*").length,l=0;u>l;l++){var c=$(o).find("*").eq(l);if(s=c.attr("xmpDM:trackType"),void 0!==s)switch(s.toLowerCase()){case"tableofcontents":P=$(c).attr("tscDM:tocCellLayout"),k=TSC.playerConfiguration.getUnicodeSafeString($(c).attr("tscDM:image")),"."!==TSC.playerConfiguration.getSwfBase()&&void 0!==k&&(k=TSC.playerConfiguration.getSwfBase()+k),C=!0,x=$(c),l+=x.find("*").length;break;case"quiz":if(TSC.quizModel&&void 0===TSC.playerConfiguration.getFathomId()){v=!0;var p=$(c).attr("tscIQ:quizGuid"),g=$(c).attr("tscIQ:reportMethod"),f="1"===$(c).attr("tscIQ:requireUserId"),A="1"===$(c).attr("tscIQ:hideReplay"),q=$(c).attr("tscIQ:authoredEmail"),D=$(c).attr("tscIQ:clientId"),V=$(c).attr("tscIQ:quizHash"),z=$(c).attr("tscIQ:locale");z||(z=TSC.languageCodes.ENGLISH),TSC.quizModel.setLocale(z),TSC.quizModel.setProductionMetadata(y,b,w),TSC.quizModel.setQuizTitle(b),TSC.quizModel.setQuizID(p),TSC.quizModel.setReportMethod(g),TSC.quizModel.setRequireUserId(f),TSC.quizModel.setHideReplay(A),TSC.quizModel.setAuthoredEmail(q),TSC.quizModel.setClientId(D),TSC.quizModel.setQuizHash(V),TSC.quizModel.setMediaDuration(Q)}L=$(c),l+=L.find("*").length;break;case"caption":var O=$(c).attr("stFnt:fontFamily");O&&(G=O);var B=$(c).attr("tscDM:fontSize");B&&(U=Number(B));var W=$(c).attr("tscDM:bgOpacity");W&&(F=Number(W));var J=$(c).attr("tscDM:position");J&&(_=J);var K=$(c).attr("tscDM:captionbarheight");K&&(H=Number(K)),m=!0,N=$(c),l+=N.find("*").length;break;case"hotspot":S=!0,M=$(c),l+=M.find("*").length;break;case"speechtext":h=!0,I=$(c),l+=I.find("*").length;break;case"screentext":T=!0,E=$(c),l+=E.find("*").length}}n+=a,$(t).find("*").filterNode("tscIQ:QuizParams").filterNode("rdf:li").each(function(){var e=$(this).attr("xmpDM:name"),t=$(this).attr("xmpDM:value");TSC.localizationStrings.setString(e,t)});var Y,Z,j=0;for(n=n;r>n;n++)if("tscDM:controller"===$(t).find("*").eq(n)[0].nodeName){Y=$(t).find("*").eq(n).children(),j=$(Y).find("*").length;break}$(Y).find("*").filterNode("rdf:li").each(function(){if(void 0!=$(this).attr("xmpDM:name"))switch(Z=$(this).attr("xmpDM:value").toLowerCase(),$(this).attr("xmpDM:name").toLowerCase()){case"autohide":var e="true"===Z?!0:!1;TSC.playerConfiguration.setAutoHideControls(e);break;case"autoplay":var t="true"===Z?!0:!1;TSC.playerConfiguration.getAutoPlayMedia()||TSC.playerConfiguration.setAutoPlayMedia(t);break;case"searchable":var i="true"===Z?!0:!1;TSC.playerConfiguration.setIsSearchable(i);break;case"captionsenabled":var n="true"===Z?!0:!1;TSC.playerConfiguration.setCaptionsEnabled(n);break;case"sidebarenabled":var o="true"===Z?!0:!1;TSC.playerConfiguration.setSidebarEnabled(o);break;case"unicodeenabled":var r="true"===Z?!0:!1;TSC.playerConfiguration.setProcessUnicodeNames(r);break;case"backgroundcolor":var a=Z;-1===a.indexOf("#")&&(a="#"+a),TSC.playerConfiguration.setBackgroundColor(a);break;case"sidebarlocation":var s="right"===Z||"r"===Z?"right":"left";TSC.playerConfiguration.setSidebarLocation(s);break;case"endaction":TSC.playerConfiguration.setEndActionType(Z);break;case"endactionparam":TSC.playerConfiguration.setEndActionParam(Z);break;case"locale":TSC.localizationStrings.setLanguage($(this).attr("xmpDM:value"))}}),setTimeout(d,500)}$.fn.filterNode=function(e){return this.find("*").filter(function(){return this.nodeName===e})};var g,f,C,m,S,v,T,h,A,b,y,w,I,E,x,N,M,L,R,P,k,q,D,Q,V,z,O,F,G,U,B,_,H,W,J,K,Y,Z,j,X,et=TSC.localizationStrings;return e(),{loadXMP:function(e){if(e){var i=e,n=!0;if(TSC.playerConfiguration.isIEOnServerWithUnicode()){var o=location.href.lastIndexOf("/"),r=location.href.substr(0,o+1);i=TSC.playerConfiguration.getUnicodeSafeString(r)+e,n=!1}try{$.ajax({type:"GET",url:i,isLocal:n,dataType:"xml",success:p,error:t})}catch(a){}}},parseXMP:function(e){p($.parseXML(e))},xmpAvailable:function(){return A},getMediaDuration:function(){return Q},getTocTitle:function(){return R},getTocImageSrc:function(){return k},getTocCellLayoutType:function(){return P},tocContainsThumbs:function(){return q},getTocThumbImageSrc:function(){return D},getTocItemArray:function(){return K},getHotspotItemArray:function(){return Z},getCaptionItemArray:function(){return Y},getCaptionFontFamily:function(){return G},getCaptionFontSize:function(){return U},getMinCaptionFontSize:function(){return W},getMaxCaptionFontSize:function(){return J},getCaptionBgOpacity:function(){return F},getCaptionTextColor:function(){return z},getCaptionBgColor:function(){return O},getCaptionBg:function(){return"rgba("+B.r+", "+B.g+", "+B.b+", "+F+")"},getCaptionPosition:function(){return _},getCaptionBarHeight:function(){return H},getSpeechTextItemArray:function(){return X},getScreenTextItemArray:function(){return j},getLanguage:function(){return V},hasTocItems:function(){return C},hasCaptionItems:function(){return m},hasHotspotItems:function(){return S},hasQuiz:function(){return v},hasScreenTextItems:function(){return T},hasSpeechTextItems:function(){return h},getLocalErrorMessage:function(){return et.getString("xmpSecurity")},get404ErrorMessage:function(){return et.getString("xmpError")},addEventListener:function(e,t){"READY"===e?g=t:"ERROR"===e&&(f=t)},removeEventListener:function(e){"READY"===e?g=void 0:"ERROR"===e&&(f=void 0)}}}();var TSC=TSC||{},_gaq=_gaq||[];TSC.mediaPlayer=function(){"use strict";function e(){TSC.mediaList.getMediaType()!==TSC.mediaType.WEBM&&swfobject.hasFlashPlayerVersion(w.getMinFlashPlayerVersion())&&"flash"===w.getTechPreference()?E.initFlashView(v):E.displayMessagePanel(v,TSC.mediaList.getErrorMessage())}function t(){L.isLocal()?E.displayMessagePanel(v,TSC.xmp.getLocalErrorMessage()):E.displayMessagePanel(v,TSC.xmp.get404ErrorMessage())}function i(){_gaq.push(["_setAccount",w.getGoogleAnalyticsID()]),w.getGAPageViewTracking()&&_gaq.push(["_trackPageview",w.getMediaFileName()]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()}function n(){if(L.isNuevoApp()){var e=document.querySelector("meta[name=viewport]");e&&e.setAttribute("content","width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;")}}function o(){L.lookAtDevice(),n(),r(),C()||a(),w.getGoogleAnalyticsID()&&!swfobject.hasFlashPlayerVersion(w.getMinFlashPlayerVersion())&&i()}function r(){var e={};(function(){var t,i=/\+/g,n=/([^&=]+)=?([^&]*)/g,o=function(e){return decodeURIComponent(e.replace(i," "))},r="";if(w.getIframeCommunicationsEnabled())try{r=window.top.location.search.substring(1)}catch(a){r=""}for(;t=n.exec(r);)e[o(t[1])]=o(t[2])})(),w.setURLParams(e)}function a(){I.addEventListener("READY",l),I.addEventListener("ERROR",e),I.init(w.getMediaSources())}function s(){if(L.isNuevoApp()&&N.xmpAvailable()){var e=document.location,t=N.getTocTitle(),i=N.getMediaDuration();document.location="nuevo://info?url="+e+"?title="+t+"?duration="+i}}function u(){R||(E.removeEventListener("VIDEO_START"),$(document).trigger("techsmith.cloud.videofirstclickplay"),R=!0)}function l(){I.removeEventListener("READY",l),I.removeEventListener("ERROR",e),TSC.mediaList.getMediaType()===TSC.mediaType.WEBM?L.canPlayWebM()?d():E.displayMessagePanel(v,x.getString("noWebMSupport")):((!L.canPlayHTML5Video()||TSC.mediaList.isMediaTypeAvailable(TSC.mediaType.H264)&&!L.canPlayMP4())&&w.setTechPreference("flash"),L.isIPhoneOrIPod()?E.initSimpleHtml5View(v):"flash"===w.getTechPreference()&&!L.isLocalPepperFlash()&&swfobject.hasFlashPlayerVersion(w.getMinFlashPlayerVersion())?E.initFlashView(v):L.canPlayHTML5Video()&&TSC.mediaList.isMediaTypeAvailable(TSC.mediaType.H264)&&L.canPlayMP4()||TSC.mediaList.isMediaTypeAvailable(TSC.mediaType.WEBM)&&L.canPlayWebM()||TSC.mediaList.isMediaTypeAvailable(TSC.mediaType.OGG)&&L.canPlayOgg()?d():E.displayMessagePanel(v,x.getString("videoNotSupportedUseFlash")))}function c(e){w.getFathomId()?(M.addEventListener("GET_COMPLETE",function(){g(),"function"==typeof e&&e()}),M.addEventListener("ERROR",function(){g(),t()}),M.getFathom(w.getFathomId())):g()}function d(){w.getXMPSrc()?(N.addEventListener("READY",c),N.addEventListener("ERROR",function(){"string"==typeof TSC.embedded_config_xml?N.parseXMP(TSC.embedded_config_xml):(c(),t())}),N.loadXMP(w.getXMPSrc())):c()}function p(e){w.getIframeCommunicationsEnabled()&&$(parent.document).trigger("techsmith.screencast.captionchanged",e)}function g(){var e=!1,i=!1;N.xmpAvailable()&&(N.removeEventListener("READY",g),N.removeEventListener("ERROR",t),(N.hasTocItems()||(N.hasCaptionItems()||N.hasScreenTextItems()||N.hasSpeechTextItems())&&w.getIsSearchable())&&(e=!0),N.hasCaptionItems()&&w.getIframeCommunicationsEnabled()&&$(parent.document).trigger("techsmith.screencast.hascaptions"),s()),TSC.quizModel&&TSC.quizModel.getQuizID()&&(L.isLocal()&&TSC.quizModel.getReportMethod()!==TSC.reportType.NONE?(i=!0,TSC.quizModel.setReportMethod(TSC.reportType.NONE)):TSC.quizModel.getUseScorm()&&0===TSC.quizModel.getTotalNumberOfGradedQuestionSets()&&w.setReportScormComplete(!0)),E.addEventListener("VIDEO_START",u),E.addEventListener("CAPTION_CHANGE",p),E.initHtml5View(v,e),i&&E.displayMessagePanel(v,TSC.localizationStrings.getString("xmpSecurity"))}function f(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e),t.async=!0,t.onload=function(){a()},t!==void 0&&document.getElementsByTagName("head")[0].appendChild(t)}function C(){return S()?(f(h+A),!0):!1}function m(){return"true"===b}function S(){return L.isIPhoneOrIPod()&&L.isRetinaDisplay()&&!L.isNuevoApp()?!0:!1}var v,T="2.5.0",h="http://www.techsmith.com/redirect.asp?",A="target=nuevoappdata&product=camtasia&lang=enu&ver=1.0.0&os=mac",b="false",y="",w=TSC.playerConfiguration,I=TSC.mediaList,E=TSC.playerView,x=TSC.localizationStrings,N=TSC.xmp,M=TSC.fathomService,L=TSC.deviceInfo,R=!1;return{init:function(e){v=e,o()},getVersion:function(){return T},keyValueDataCallback:function(e){b=e.isAppReady,y=e.appDownloadURL},isNuevoAppCapableAndAvailable:function(){return S()&&m()},redirectToiPhoneAppDownload:function(){S()&&window.open(y,"_parent")},jsSeekTime:function(e){E.jsSeekTime(e)},jsPlay:function(){E.jsPlay()},jsDebugUI:function(e){TSC.playerConfiguration.setDebugUIMode(e),E.jsDebugUI(e)},redirectToiPhoneApp:function(){if(S()&&m()){var e=document.location+"",t=w.getPosterImageSrc(),i=(new Date).getTime();setTimeout(function(){var e=(new Date).getTime();1e3>e-i&&window.open(y,"_parent")},300);var n="nuevo://import?url=";n+=-1!==e.indexOf("?")?e+"&posterImage="+t:e+"?posterImage="+t,n+=TSC.playerConfiguration.getAdditionalAppQueryString(),window.open(n,"_parent")}},addEventListener:function(e,t){E.addEventListener(e,t)},removeEventListener:function(e){E.removeEventListener(e)}}}();